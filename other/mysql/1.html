<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/other/mysql/1.html"><meta property="og:site_name" content="博客演示"><meta property="og:title" content="数据库"><meta property="og:description" content="关系型数据库的主要特点有哪些? me: 数据关系 连表查询 ai: 数据以表格的形式存储,每行记录代表一个数据实体,每列属性代表数据实体的一个特征。 强调数据之间的关系,数据可以通过定义主键和外键进行关联。 数据操作通过关系代数和关系演算等关系模型进行。 提供结构化查询语言(SQL),方便对数据的查询、插入、删除和更新。 具有**事务处理(**ACID)的功能,可以保证数据的完整性和一致性。 提供视图、存储过程、触发器等数据库对象,扩展了关系模型的建模能力。 支持数据库规范化,有助于减少数据冗余,提高存储效率。 提供用户权限管理、备份恢复等管理功能。 支持客户端/服务器架构,易于在分布式环境下部署。 成熟可靠,有完善的安全机制。 数据库中的数据冗余是指什么?有哪些缺点? me: 存储空间利用不当，存在小碎片的存储空间不能充分利用/空间占用大 ai: 数据冗余指的是在数据库中的表中出现重复或多余的数据。主要有以下两个方面的缺点: 数据存储空间的浪费 数据冗余会导致重复或无用的数据被存储多次,占用了大量额外的存储空间。特别是在大数据库中,冗余数据会明显增加数据库的体积,增加存储成本。 数据异常的风险 存在冗余数据时,当某一处数据被修改后,相关数据不一定会同步更新,导致数据之间出现不一致的情况。这会降低数据的可靠性和完整性。 此外,数据冗余还可能导致其他问题,比如插入和删除异常、程序设计和操作复杂化等。 为了避免数据冗余,数据库的设计者通常会采用数据库规范化的方法来减少冗余,主要包括第一范式(1NF)、第二范式(2NF)、第三范式(3NF)等规范要求。合理的数据库规范化可以有效减少数据冗余,提高数据的完整性和一致性。 什么是数据库的完整性?有哪几种完整性? me: null ai: 实体完整性:每张表的每一行(即每一个实体)都应该是唯一的,通常通过主键约束来保证。 域完整性: 数据表中的每一列(属性)只允许出现合理的值,每个属性值的范围应该事先定义好。 引用完整性:维护表与表之间的关系,例如外键约束来保证主表中不存在的外键值不能在从表中出现。 用户定义完整性:允许用户根据需要定义或指定需要保证的完整性约束条件。 业务完整性:按业务规则设定数据需要满足的一致性或准确性。 如何理解数据库的三大范式?请简要说明每一范式的含义。 me: 第一范式 去除与主键 第二范式 第三范式 ai: 第一范式(1NF): 属性不可再分 满足1NF的关系Mode中,每个属性值都必须是不可再分的基本值,不允许有重复的属性或多个值在一个属性中。 第二范式(2NF): 完全依赖主键 满足2NF的关系模式中,非主属性必须完全依赖主键,消除1NF基础上产生的部分依赖。 第三范式(3NF): 消除传递依赖 满足3NF的关系模式中,任何非主属性不依赖于其它非主属性,消除2NF基础上产生的传递依赖。 简单来说: 1NF 消除属性的重复组合; 2NF 消除部分依赖; 3NF 消除传递依赖。 数据库索引的作用是什么?哪些字段应该创建索引? me; 在数据量比较大时可以加快对数据的查询 主键 唯一的识别的值 ai; 加速查询和检索速度 索引可以大大减少数据库需要扫描的数据量,使得查询和检索速度能够大幅提升。 2.加速表与表之间的连接 通过在连接字段上进行索引,可以减少连接需要的时间。 3**.加速排序操作** 可以通过索引直接提取排序数据,加快排序速度。 4.加速聚集函数的操作 聚集函数如sum()、max()、min()等在索引列上进行计算时速度会更快。 通常以下字段应该创建索引: 表中经常需要搜索的字段。 经常出现在WHERE子句中的字段。 经常需要排序的字段。 表主键。 频繁被连接的字段。 在查询中与其他索引列组合使用的字段。 什么是数据库事务?事务的四个特征是什么? me: 对多个数据库的操作，执行的方法， /隔离性 原子性 一致性 持久性 ai: 数据库事务(Transaction)是指作为一个单独执行单元的一系列操作,这些操作要么全部成功执行,要么全部不执行。 数据库事务通常具有四个关键特徵,称为 ACID: **原子性(Atomicity)😗*事务是一个不可分割的工作单位,事务中的所有操作要么全部执行成功,要么全部失败回滚。 一致性(Consistency):事务执行前后,数据库都保持一致性状态。事务执行不会破坏数据库数据的完整性和业务逻辑约束。 隔离性(Isolation):多个事务并发执行时,一个事务的执行不应影响其他事务的执行。 持久性(Durability):已提交的事务对数据库的修改应该永久保存在数据库中,不会被回滚。 什么是数据库的锁机制?有哪几种锁? me: 对数据查询访问的限制操作 / 悲观锁 乐观锁 ai: 数据库锁机制是为了保证数据库并发访问的一致性而设计的,它通过对数据加锁来实现多用户对数据库的并发访问控制。 常见的数据库锁主要有以下两种: **共享锁(S锁)😗*允许多个事务对同一数据进行读取操作,防止资源被修改。 排他锁(X锁):只允许一个事务占有数据的排他访问权,防止多个事务同时修改数据。 除此之外,数据库锁可以分为以下几种: 行级锁:对关系表中的某一行加锁。 表级锁:对整张表加锁。 页级锁:对数据表的某个页面加锁。 表空间锁:对表空间中的所有对象加锁。 数据库锁:对整个数据库加锁。 什么是数据库的并发控制?常见的并发控制方法有哪些? me: null ai: 数据库的并发控制是为了保证在多个事务并发执行时不破坏数据库的完整性和一致性而设计的机制。常见的并发控制方法有以下几种: 锁机制:通过在数据上加锁来实现并发控制,如共享锁、排它锁等。 多版本并发控制(MVCC):每次读取都从一个快照读,不加锁。通过在修改时生成新版本的数据行副本来实现。 时间戳序方法:为每一个事务赋予一个唯一的时间戳,事务只能读取时间戳小于自己的时间戳的数据。 乐观并发控制:假设冲突较少,允许事务先执行,但在提交时检查是否违反一致性。 悲观并发控制:假设冲突很多,在操作数据前先加锁,确保操作的一致性。 基于多粒度的锁机制:采用多种粒度的锁来获得更好的并发性。 什么是数据库的故障恢复技术? checkpoint、redo log、undo log之间的关系是? me: 通过对数据库日志，对数据库故障的恢复 / ai: 数据库的故障恢复技术主要包括备份恢复技术、日志恢复技术等。 checkpoint、redo log、undo log三者之间的关系如下: checkpoint:检查点,数据库会定期将缓冲池中的脏页(修改过的数据页)刷新到磁盘上,生成一个检查点。 redo log:重做日志,记录数据库操作引起的数据修改。用于重做或回滚未提交的事务。 undo log:回滚日志,记录数据修改前的旧值。用于事务回滚时撤销对数据库的修改。 当数据库发生故障后,利用checkpoint信息将数据页恢复到故障发生时的最后known good状态。然后利用redo log重做故障后新提交的事务对数据的修改。最后再根据undo log进行未提交事务的回滚操作,直到恢复到故障发生前的状态。 数据库优化的常见手段有哪些? me: 数据库规范化 索引 ai: **SQL语句优化:**通过参数绑定、去除不必要的查询等方式优化查询语句。 数据库结构优化:合理设计表结构,避免冗余,建立索引。 数据库服务器优化:调整数据库内存、并发数等服务器参数。 查询计划优化:选择最优查询路径,如利用索引查询。 数据访问优化:减少客户端与服务器之间交互,使用连接池。 磁盘I/O优化:SEPARATE表空间,RAID技术。 **数据库分区:**通过垂直拆分或水平拆分 way 提高可扩展性。 采用读写分离机制:降低数据库访问压力。 数据库并行处理:如并行查询。 采用数据库缓存:缓存热点数据,减少磁盘I/O。 数据库中的视图有什么作用?视图可以更新数据吗? me: 视图狗都不用 ai: 简化复杂的SQL查询 通过在视图上执行查询,可以将复杂的查询封装和隐藏,使用更简单的查询语法。 ​	2保护数据 可以在视图上隐藏表中的部分敏感字段,对用户只开放必要的列。 ​	3提高查询性能 视图可以只查询必要的数据列,并且可以利用索引提升性能。 ​	4保持数据的一致性 可以在视图上定义计算字段,从而在不同的表中实现一致的数据显示。 ​	5实现数据独立 当表结构变更时,只修改视图定义,对访问视图的查询语句无须改动。 对于可更新的视图,可以通过视图实现对基表数据的修改、插入和删除操作。但有些视图由于存在聚合函数等是不可更新的。 什么是数据库的范式设计?为什么需要范式设计? me: 对数据库的属性进行规范化设计 / 减少数据库的冗余 提高数据库查询 优化数据库 ai: 数据库需要范式设计主要有以下原因: 减少数据冗余 范式设计可以识别出不合规范的设计,消除数据冗余,节省存储空间。 避免插入异常 消除非主属性对主属性的部分函数依赖可以避免插入异常。 避免删除异常 消除非主属性对主属性的传递函数依赖可以避免删除异常。 避免更新异常 符合范式的关系模式,非主属性不依赖于其他非主属性,可以避免更新异常。 提高查询性能 减少数据冗余可以提高查询和搜索的性能。 保持数据一致性 符合范式的设计可以保证数据一致性,避免数据操作引起的数据不一致。 方便数据库应用设计 降低数据库复杂度,使数据库结构更清晰简洁,便于开发人员设计和使用。 数据库的主键和唯一键有什么区别? me: 主键 必须唯一性唯一标志 可以作为其他表的外键 唯一键 属性唯一 ai: 主键是一行数据的唯一标识,可以唯一定位一行数据,每张表只能有一个主键。唯一键不是主键,一张表可以有多个唯一键。 主键不允许为空值,唯一键列可以为空值。 主键直接定义在表中。唯一键可以定义在表中,也可以通过唯一索引实现唯一键约束。 主键默认会建立主键索引,数据库系统会自动为主键创建索引。唯一键可以建立唯一索引,也可以不创建。 **主键不允许修改,**除非重建表。唯一键可以修改,但不能重复。 每张表必须定义主键,以标识唯一一行记录。唯一键不是必需的。 一个表可以有多个唯一键,但最多只能有一个主键。 什么是数据库的参照完整性?如何通过外键约束实现参照完整性? me: 忘了 ai: 数据库的参照完整性是指存在外键关系的表之间的数据一致性。它通过外键约束来实现。 外键约束的作用是保证子表数据外键列的值必须来自主表的主键列的值。这样就建立了主表和子表数据之间的链接,保证了主 子 表数据的一致性。 具体实现参照完整性的方法: 在子表添加外键列,其数据类型和主表的主键列一致。 在子表外键列上添加外键约束,约束引用主表的主键列。 指定外键更新和删除时的操作,如级联更新/删除或设置为无动作。 可以设置外键值为null,也可以设置为不允许为空。 数据库的三大设计范式之间有什么关系?为什么要遵守高级范式的设计? me: 三个范式 互相递进 第三范式在第二范式基础上更加要求 / 遵循高级范式可以减少数据冗余 数据操作异常 数据一致性 ai: 数据库的三大范式之间是逐步规范化的关系: 第一范式(1NF)是关系数据库的基础,表的每一列都是不可分割的基本数据项。 第二范式(2NF)在1NF的基础上,非码属性必须完全依赖于候选码,消除非主属性对主码的部分函数依赖。 第三范式(3NF)在2NF基础上,任何非主属性不依赖于其它非主属性,消除传递依赖。 高级范式都是在第三范式的基础上建立的,如BCNF范式等。 遵守高级范式设计数据库的主要理由: 可以避免数据冗余,节省数据存储空间。 将数据结构分解成合理的形式,有利于数据库维护。 减少插入、更新、删除异常的发生。 提高数据查询和访问的效率。 提高程序对数据库的设计和操作的简单性。 方便对数据库的扩展和修改。 提高数据的一致性和完整性。 什么是数据库的**冗余设计?**冗余设计的利与弊是什么? me： 不知道 ai: 数据库冗余设计指在数据库设计中存在一定数据冗余或重复的设计。 冗余设计的利与弊: 利: 提高了数据的完整性和一致性。系统容错能力增强。 提高数据读取效率。多表查询时,冗余数据可以减少连接操作。 提高数据写入效率。允许在少数表中进行冗余存储,以提高写效率。 简化数据库设计,可以利用冗余数据减少复杂的查询。 弊: 数据冗余增加了数据维护的难度。 提高了数据存储空间的需求。 提高了系统设计和开发的难度。需考虑数据同步问题。 增加了数据库插入和更新的问题。 出现数据不一致的可能。 数据库连接的分类有哪些?各有什么特点? me: 使用数据库引擎 使用数据池链接 / 1， 2，数据池连接减少操作次数 ai： 短连接:每次数据库操作后就关闭连接。 特点:连接创建和关闭频繁,资源消耗大,性能较差。 长连接:重复使用同一个数据库连接,对多次数据库操作优化。 特点:减少连接创建和关闭次数,性能较好。但如果长时间不关闭,会占用连接资源。 另外,数据库连接还可以分为: **直接连接:**应用程序直接连接数据库。 特点:简单,无中间层,但不利于管理和拓展。 连接池连接:使用连接池存放数据库连接,应用程序从池中获取连接。 特点:可以重用连接,提高效率。但需要注意池容量控制。 什么是数据库事务的ACID特性?缺少某一特性会造成什么问题? me: 隔离性 一致性 原子性 持久性 / 缺少会造成数据不一致 事务失效 ai: 原子性(Atomicity):事务是一个不可分割的工作单位,事务中的操作要么都成功,要么都失败。 一致性(Consistency):事务执行前后,数据库都保持一致性状态。 隔离性(Isolation):事务并发执行时,一个事务的执行不应影响其他事务。 持久性(Durability):已提交事务对数据库修改是持久的,即使系统故障也不会丢失。 如果缺少某一特性: 缺少原子性:事务执行可能只部分成功,使数据处于不一致状态。 缺少一致性:事务执行使数据库从一个一致状态变成不一致状态。 缺少隔离性:事务并发执行相互影响,数据错误。 缺少持久性:系统故障后,已提交事务的修改可能丢失 选择使用何种数据库索引类型的判断标准有哪些? me： 不知道 ai: 查询方式 - 根据查询中条件列的判断,选择合适的索引,如唯一索引、普通索引、前缀索引等。 查询性能 - 根据查询的性能要求,如查询范围的大小,选择聚簇索引或非聚簇索引。 数据量 - 数据量小可以考虑使用唯一索引;数据量大则应优先考虑普通索引。 数据变更频率 - 变更频繁的数据字段不太适合创建索引。静态数据字段可优先考虑。 索引维护成本 - 索引能够带来查询性能提升需要与维护索引的成本作比较。 索引限制 - 一些数据库对索引的 key 长度、数量都有限制,在设计时需要注意。 数据关系 - 与查询条件 columnist 相关联的数据字段优先考虑建立索引。 实际执行查询计划 - 可以比较真实的执行计划来决定创建哪些索引。 数据库的性能优化手段中,哪些属于SQL优化,哪些属于硬件优化? me; 索引优化 分页 属于sql //硬件优化 ai: SQL优化主要包括: SQL语句优化 - 使用EXPLAIN检查执行计划,优化查询方式,避免全表扫描等。 索引优化 - 加入适当的索引,减少查询需要扫描的数据。 数据库结构优化 - 规范设计表和库,避免冗余索引和查询。 参数优化 - 配置合理的缓存,连接数等数据库参数。 硬件优化主要包括: 升级CPU、内存 - 提高数据库服务器的处理能力。 使用SSD - 减少I/O等待时间。 分库分表 - 减少单库单表数据量,提高查询效率。 采用更高效的磁盘IO方式 - 如RAID 10。 选择合适的存储引擎 - 如InnoDB, MyISAM等。 客户端连接优化 - 连接池,本地缓存等。 数据库三范式有什么作用?不符合三范式会带来哪些问题? me: 规范化数据库结构 减少数据冗余 不符合 可能造成数据冗余 数据异常 数据库操作异常 ai: 数据库三范式的主要作用是: 避免数据冗余和异常 - 三范式要求数据表中的每个列都和主键直接相关,从而避免重复和多余的数据。 提高查询效率 - 三范式将数据划分为多张功能独立的表,而非塞进一个大表,提高查询速度。 降低更新异常 - 更新时只需要更新一处,不会出现数据不一致的情况。 提高系统扩展性 - 三范式使表的结构合理独立,易于扩展。 不符合三范式主要会带来以下问题: 数据冗余和数据不一致 - 同样的数据出现在多个表中,数据重复,容易出现不一致。 插入异常 - 在一个表中插入数据,需要同步插入其他表,否则产生数据不一致。 删除异常 - 删除操作可能会删掉其他表还在使用的数据。 更新异常 - 同一数据不同表的更新可能不一致。 系统维护困难 - 字段增删改都会影响多张表,维护复杂。 数据库事务的四个特征是:原子性、一致性、隔离性和持久性。请解释这四个特征的意义。 原子性(Atomicity):事务是一个不可分割的工作单位,事务中的操作要么都成功,要么都失败。 一致性(Consistency):事务执行前后,数据库都保持一致性状态。 隔离性(Isolation):事务并发执行时,一个事务的执行不应影响其他事务。 持久性(Durability):已提交事务对数据库修改是持久的,即使系统故障也不会丢失。 数据库的并发控制有哪几种常见方法?各自的优缺点是什么? me: 加锁{表锁 行锁 } 事务 / 加锁可以并发数据安全 效率慢 不加锁可能不安全但效率快 ai: 锁机制 优点:并发冲突控制能力强,保证数据一致性。 缺点:锁的获取和释放有较大开销,会降低并发性能。锁模式不当还可能导致死锁。 多版本并发控制(MVCC) 优点:不会阻塞读操作,提高了读性能和并发性。 缺点:需要额外空间存储多版本数据,写操作开销也较大。 时间戳 ordering 优点:无需锁及多版本,并发控制简单。 缺点:只适用于读多写少的场景,可扩展性较差。 乐观锁 优点:不阻塞读操作,无死锁问题。 缺点:写冲突时会重试和回滚,成功率不高。 分布式事务 优点:支持分布式场景的并发控制。 缺点:实现复杂,资源开销大,不支持高并发。 数据库的锁有共享锁和排它锁,这两种锁的区别是什么?各自使用场景? me: 共享锁指进程运行所需要资源可以被其他进程所共享使用 排他锁指进程所需资源仅可自己使用其他进程无法请求已使用的资源 ai: 兼容性不同： S锁与S锁兼容，可以多个事务同时加S锁。 X锁与X锁和S锁都不兼容，加X锁时其他事务不能再加任何锁。 加锁读写能力不同： S锁只允许读取数据，不允许修改。 X锁既可以读取也可以修改数据。 加锁粒度不同： S锁通常是行级锁，只锁定查找到的行。 X锁一般是表级锁，会锁定整张表。 根据这些特性，可以将它们用于不同的事务场景： S锁的使用场景： S锁适用于只读事务，因为它们可以并发地加锁，从而提高并发度，允许多个事务同时读取相同的数据。这对于读取频繁、但修改较少的场景非常有用，例如报表查询等。 X锁的使用场景： X锁适用于写事务，因为它提供了互斥访问，确保在一个事务修改数据时，其他事务无法访问或修改相同的数据。这对于需要保证数据一致性和避免冲突的写操作非常重要，例如更新、删除等操作。 读写混合事务的处理： 在某些情况下，可能需要同时进行读取和写入操作。在这种情况下，可以先加X锁，以确保数据的独占访问权。然后，在需要读取的行上加S锁，以便在读取过程中保持一致性。最后，在完成操作后，释放所有锁。 共享锁（Shared Lock）： 共享锁允许多个事务同时获取同一个数据项的锁，以进行读操作。多个事务可以同时持有共享锁，但不能与排他锁同时存在。 共享锁之间是兼容的，这意味着一个事务可以在另一个事务持有共享锁的同时获取相同数据项的共享锁。 共享锁用于读取操作，可以并发地读取数据，从而提高并发性能。 适用场景：当多个事务需要读取相同的数据项时，可以使用共享锁，以避免冲突并允许并发读取操作。 排他锁（Exclusive Lock）： 排他锁在事务需要进行写操作时获取，确保数据在写操作期间不会被其他事务读取或写入。 排他锁与其他任何锁（包括共享锁和排他锁）都不兼容，这意味着当一个事务持有排他锁时，其他事务不能获取相同数据项的任何锁。 排他锁用于写操作，保证数据的独占性，避免并发写入冲突，从而维护数据的一致性。 适用场景：当事务需要对数据进行写操作（修改、删除等）时，应该获取排他锁，以确保数据的一致性和完整性。 在实际应用中，根据事务的需求和操作类型，可以选择适当的锁策略。有时候，也会出现读写混合的场景，这时可能需要在读操作时获取共享锁，在写操作时获取排他锁，以实现合适的并发控制和数据保护。 为什么需要数据库的事务处理?事务能够保证数据库的一致性吗? me: 对数据库需要并行操作 /事务可以保持一致性 ai: 将多条相关SQL作为一个不可分割的工作单元执行,以保证数据的完整性。 提供将数据库从一致性状态变换到另一致性状态的机制。 在并发访问时,保证事务之间的隔离性。 在系统故障后,恢复数据库状态以保持数据一致性。 但是,事务不能完全保证数据库的一致性。原因如下: 事务只能保证数据库从一个一致状态转变到另一个一致状态,不能防止一开始数据库状态就不一致。 长时间事务会降低并发性,也无法完全隔离事务之间的影响。 硬件故障也可能导致事务处理失败,无法恢复数据库一致状态。 错误或不合理的事务处理逻辑同样可能破坏数据一致性。 数据库的冗余对性能有什么影响?如何在冗余与性能间做平衡? me: 数据库冗余导致数据异常 性能读写降低，数据库操作异常数据不安全不一致 / 合理规划数据库设计 结合实际使用不同的范式 ai: 写入性能 - 冗余会导致每个写操作需要更新多个副本,降低写入速度。 读取性能 - 适当冗余可以提高读取速度,因为读取可以分散在多个副本上。但冗余过高会导致缓存浪费和磁盘空间浪费,降低效率。 内存占用 - 数据冗余会增加内存占用。 数据不一致 - 多个副本存在数据不一致的可能,需要额外的完整性检查。 平衡冗余和性能可以从以下几个方面进行: 只对**最常读取和最重要的数据建立冗余,**不要对全部数据均创建冗余。 控制冗余副本的数量,一般2-3个副本就足够提供读取性能优势。过多冗余反而降低效率。 采用异步或延迟的冗余策略,减小冗余对写入的影响。 对冗余数据进行分区,避免单点热点问题。 利用缓存来提高读取速度,而不是单纯依赖冗余。 对冗余数据进行压缩,减少存储和内存开销。 加强系统间数据一致性检测与同步机制,降低冗余带来的不一致风险。 配合业务特点采用适当的冗余策略,如主从式、份额式等。 数据库优化中,对查询语句优化和对数据库表优化有何不同?应优先考虑哪些方面? me: 查询语句优化 --&gt; 在查询过程中更快或准确查询 通过索引 条件 连表等操作 数据库表优化 --&gt; 在数据表建立 对数据进行规范化 分表 分页 优先考虑语句优化 比较直接 对数据库表优化 可能比较麻烦 ai: 查询语句优化 重点优化SQL查询逻辑,使查询更高效 如添加索引、SQL优化、查询重写等 目的是消除不必要的查询,减少扫描行数 数据库表优化 重点优化表结构与设计,减少存储冗余 如正规化、拆分表、垂直拆分等 目的是减少储存空间,提高CRUD效率 优先考虑的方面: 对重要且频繁的查询语句进行优化 对大表、重要业务表的结构设计优化 先从查询语句入手,对症下药 查询无法优化时再考虑表结构调整 选择使用物理外键与逻辑外键,应该考量哪些因素?两者的优缺点? me: null ai: 数据完整性需求 物理外键通过约束可以保证引用完整性,删除/更新主表数据时限制外键变化。 逻辑外键不能自动保证引用完整性,需要通过应用程序来维护。 查询性能需求 物理外键会对主表创建索引,可提高联表查询速度。 逻辑外键没有索引,联表查询需要全表扫描,较慢。 数据变更需求 物理外键的约束会限制主表数据的删除与更新。 逻辑外键没有这个限制,主表变更更灵活。 系统性能限制 物理外键的约束会增加插入/更新时的开销。 逻辑外键的开销较小。 物理外键的优点是保证数据一致性,提高查询速度,但会限制主表变更。 逻辑外键的优点是变更灵活性高,系统开销较小,但无法自动保证引用完整性。 数据库索引在提高查询速度的同时,会带来哪些问题?该如何权衡? me: 额外内存开销 ai: 写入开销增加 索引会增加数据库写入数据时的开销。所有索引字段的值都需要同步更新。 额外存储空间占用 索引需要额外的存储空间来保存索引结构和索引值。 索引维护成本 修改表结构时需要重新建立索引,也需要定期维护索引。 可能导致查询优化器依赖索引 存在索引并不一定被查询优化器使用,可能导致非预期的查询计划。 降低部分写操作的性能 索引可以加速查询,但会降低部分INSERT,UPDATE和DELETE的性能。 因此,建立索引需要权衡其带来的收益和成本。一般的考虑原则是: 仅对常用字段建立索引,不要对很少使用或不作为查询条件的字段建立索引。 删除不再使用或很少使用的索引,不定期评估索引的使用效果。 对高并发的读写操作要谨慎建立索引。 对TEXT、BLOB等大字段尽量不要创建索引。 在建立复合索引时考虑列的顺序对性能的影响。 对于大表要建立部分索引而不是全表索引。 数据库视图的作用有哪些?使用视图可能带来的问题是什么?应如何应对? me: 视图狗都不用 ai: 数据库范式设计的目标是什么?为什么需要遵循范式化设计? me: 数据库性能 维护 变好 ai； 避免数据冗余和异常,提高数据的完整性和一致性。 降低数据维护和存储成本。 提高查询性能。 确保数据库结构灵活扩展,便于应用程序开发。 遵循范式化设计主要有以下原因: 减少数据冗余,避免同样的数据出现在多个表中,占用大量存储空间。 避免插入、更新异常,如无法正常删除的数据。这些异常会导致数据库结构混乱。 降低维护成本,不需要在多个表中同步修改冗余数据。 提高查询效率,不需要在多表中查询同样的数据。 提高可扩展性,系统变更不会影响数据库整体结构。 有利于未来优化,如拆分表等。 便于程序开发,不同模块访问不同表,业务清晰。 解释SQL语句的优化原则,有哪些需要注意的点? ai: 尽量减少查询的数据行数,使用WHERE条件进行过滤。 尽量减少JOIN表的数量,避免不必要的连接查询。 对经常查询的字段建立索引,提高查询效率。 避免在WHERE子句中使用NOT IN和&lt;&gt;操作符,它们难以优化。 使用白名单限制查询范围,避免全表扫描。 对文本字段应加引号限制前缀wildcard查询。 对统计类查询使用GROUP BY而不是DISTINCT去重。 避免数据类型的隐式转换,这会降低查询效率。 对多表JOIN查询,保证ON和WHERE条件列有索引。 编写存储过程提高重复查询的效率。 对批量插入数据操作使用事务提高效率。 对动态SQL参数使用绑定变量提高稳定性。 避免使用游标或联合查询,它们执行效率较低。 对复杂查询分步进行,逐步优化。 数据库连接池的作用是什么?使用连接池可能带来哪些问题? me: 对数据库操作时，避免多次链接数据库，避免每次数据操作需要重新链接数据库 AI: 数据库连接池的主要作用是提高数据库连接的使用效率。 **重用存在的连接,**避免频繁创建和关闭连接的开销。 管理连接对象数目,避免过多连接耗尽资源。 实现连接的线程安全共享。 提供连接的待命池,加快获取连接的速度。 使用连接池可能带来以下问题: 配置不当可能造成连接池溢出、泄漏等。 多线程环境下需要实现连接管理的同步机制。 连接长时间闲置导致连接超时。 大量连接创建可能带来内存压力。 连接没有按需释放,浪费资源。 连接长时间占用,出现瓶颈。 选择使用联合索引与组合索引的考虑因素有哪些?各自的优缺点? 如何判断一个数据库是否需要进行分库分表?分库分表的方案有哪些? 讲解数据库故障转移与负载均衡的工作原理,两者有何不同? 数据库主备服务器架构的工作原理是什么?主备服务器之间如何同步数据? 讲解行锁、表锁、意向锁的使用场景和实现机制。 数据库数据如何设计维度建模与事实建模?二者有何优势? 什么是数据库的无损调整?如何实现数据库结构的无损调整? 数据库事务隔离级别有哪些?各个隔离级别的区别是什么? 讲解InnoDB和MyISAM存储引擎的区别与应用场景。 数据库空间数据型如何设计合理的空间索引提高查询效率? 什么是数据库的慢查询?如何定位和优化慢查询? 什么是数据库死锁?如何避免数据库死锁的发生? 讲解关系型数据库与NoSQL数据库的区别,两者各自的应用场景。 讲解SQL注入攻击的原理,如何通过参数化查询防止SQL注入。 数据库服务器内存不足时应该如何调优?有哪些可优化方向? 设计一个支持百万级流量的数据库架构,需要考虑哪些方面? 关系型数据库与文档型数据库的区别在哪里?各自的典型产品和应用场景? 数据库的存储引擎有哪些?各有什么特点? 数据库索引的底层实现原理是什么?B+树与B树的区别在哪里? 讲解数据库事务的隔离机制,包括脏读、不可重复读、幻读的概念。 什么是数据库范式?解释第一范式、第二范式、第三范式的定义。 数据库优化中,业务层优化和SQL语句优化的focal区别是什么? 选择增量备份与完全备份应考虑哪些因素?两者分别适用于哪些场景? 解释数据库连接的集中式与分布式部署方式,讲述两种方案的利弊。 数据库查询优化中,应该优先考虑查询缓存还是索引?理由是什么? 讲解数据库主键和唯一索引的区别,各自的使用场景。 为什么需要数据库事务?事务如何保证数据库的ACID特性? 选择MySQL存储引擎时,应考虑哪些因素?各存储引擎的应用场景? 解析SQL语句的优化原则,有哪些需要注意的点? 设计支持大量并发的数据库架构需要考虑哪些方面? 什么是数据库连接池?使用连接池带来哪些好处? 讲解三种数据库连接方案:长连接、短连接、连接池。 数据库的水平拆分与垂直拆分有何区别?各自的使用场景是? 设计一个支持百万级流量的数据库架构,需要考虑哪些方面? 选择使用物理外键与逻辑外键,应该考量哪些因素?两者的优缺点? 如何判断一个数据库是否需要进行分库分表?分库分表的方案有哪些? 数据库事务有哪几种隔离级别?各自的优缺点是什么? 讲解数据库三大范式的意义,以及如何实现范式设计。 什么是数据库的FILESTREAM技术?有什么优点和使用场景? 解析主从复制和主主复制的工作原理、优缺点和适用场景。 数据库优化中,SQL语句优化和索引优化的重要程度如何区分? 讲解行锁和表锁的使用场景、加锁机制、优缺点。 如何查看和分析MySQL的慢查询日志? 什么是MVCC机制?InnoDB如何通过MVCC实现事务隔离? 选择使用联合索引与组合索引的考虑因素有哪些?各自的优缺点? 什么是数据库范式?为什么要进行范式化设计? 讲解NoSQL数据库的特点,列举几种常见的NoSQL数据库。 解析数据库故障转移和负载均衡的工作机制、区别和应用场景。 MongoDB和Redis的区别在哪里?各自的应用场景有哪些? 数据库连接池的工作原理是什么?使用连接池的优缺点? 如何 diagnoase 和优化一个慢SQL查询?需要注意哪些方面? 设计一个支持百万用户同时在线的数据库架构,需要考虑哪些方面? 解析SQL和NoSQL数据库的区别,以及各自的应用场景。 讲解InnoDB和MyISAM这两种存储引擎的特点和区别。 什么是数据库范式?为什么需要进行范式化设计? 解析行锁、表锁、意向锁的加锁机制、使用场景和优缺点。 讲解事务的ACID特性,以及事务的隔离级别和实现。 解析B+树和B树的区别,以及为什么索引通常选择B+树。 讲解三种常见的数据库拆分方案:垂直拆分、水平拆分、分库分表。 数据仓库与数据库有哪些区别?数据仓库的优点是什么? 如何设计一个支持地理位置查询的数据库架构方案? 什么是数据库的无损扩容?应该如何实现? 解析大型数据库系统的容灾技术,需要考虑哪些方面? 如何防止和解决数据库中的死锁问题? 什么是数据库的主从复制?如何实现 MySQL 的多源复制? 解析OLTP系统和OLAP系统的特点和区别。 如何为数据库服务器优化内存配置?需要关注哪些参数?"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="xss"><meta property="article:tag" content="数据库"><meta property="article:tag" content="sql"><meta property="article:published_time" content="2023-12-11T00:00:00.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"数据库","image":[""],"datePublished":"2023-12-11T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"xss"}]}</script><title>数据库 | 博客演示</title><meta name="description" content="关系型数据库的主要特点有哪些? me: 数据关系 连表查询 ai: 数据以表格的形式存储,每行记录代表一个数据实体,每列属性代表数据实体的一个特征。 强调数据之间的关系,数据可以通过定义主键和外键进行关联。 数据操作通过关系代数和关系演算等关系模型进行。 提供结构化查询语言(SQL),方便对数据的查询、插入、删除和更新。 具有**事务处理(**ACID)的功能,可以保证数据的完整性和一致性。 提供视图、存储过程、触发器等数据库对象,扩展了关系模型的建模能力。 支持数据库规范化,有助于减少数据冗余,提高存储效率。 提供用户权限管理、备份恢复等管理功能。 支持客户端/服务器架构,易于在分布式环境下部署。 成熟可靠,有完善的安全机制。 数据库中的数据冗余是指什么?有哪些缺点? me: 存储空间利用不当，存在小碎片的存储空间不能充分利用/空间占用大 ai: 数据冗余指的是在数据库中的表中出现重复或多余的数据。主要有以下两个方面的缺点: 数据存储空间的浪费 数据冗余会导致重复或无用的数据被存储多次,占用了大量额外的存储空间。特别是在大数据库中,冗余数据会明显增加数据库的体积,增加存储成本。 数据异常的风险 存在冗余数据时,当某一处数据被修改后,相关数据不一定会同步更新,导致数据之间出现不一致的情况。这会降低数据的可靠性和完整性。 此外,数据冗余还可能导致其他问题,比如插入和删除异常、程序设计和操作复杂化等。 为了避免数据冗余,数据库的设计者通常会采用数据库规范化的方法来减少冗余,主要包括第一范式(1NF)、第二范式(2NF)、第三范式(3NF)等规范要求。合理的数据库规范化可以有效减少数据冗余,提高数据的完整性和一致性。 什么是数据库的完整性?有哪几种完整性? me: null ai: 实体完整性:每张表的每一行(即每一个实体)都应该是唯一的,通常通过主键约束来保证。 域完整性: 数据表中的每一列(属性)只允许出现合理的值,每个属性值的范围应该事先定义好。 引用完整性:维护表与表之间的关系,例如外键约束来保证主表中不存在的外键值不能在从表中出现。 用户定义完整性:允许用户根据需要定义或指定需要保证的完整性约束条件。 业务完整性:按业务规则设定数据需要满足的一致性或准确性。 如何理解数据库的三大范式?请简要说明每一范式的含义。 me: 第一范式 去除与主键 第二范式 第三范式 ai: 第一范式(1NF): 属性不可再分 满足1NF的关系Mode中,每个属性值都必须是不可再分的基本值,不允许有重复的属性或多个值在一个属性中。 第二范式(2NF): 完全依赖主键 满足2NF的关系模式中,非主属性必须完全依赖主键,消除1NF基础上产生的部分依赖。 第三范式(3NF): 消除传递依赖 满足3NF的关系模式中,任何非主属性不依赖于其它非主属性,消除2NF基础上产生的传递依赖。 简单来说: 1NF 消除属性的重复组合; 2NF 消除部分依赖; 3NF 消除传递依赖。 数据库索引的作用是什么?哪些字段应该创建索引? me; 在数据量比较大时可以加快对数据的查询 主键 唯一的识别的值 ai; 加速查询和检索速度 索引可以大大减少数据库需要扫描的数据量,使得查询和检索速度能够大幅提升。 2.加速表与表之间的连接 通过在连接字段上进行索引,可以减少连接需要的时间。 3**.加速排序操作** 可以通过索引直接提取排序数据,加快排序速度。 4.加速聚集函数的操作 聚集函数如sum()、max()、min()等在索引列上进行计算时速度会更快。 通常以下字段应该创建索引: 表中经常需要搜索的字段。 经常出现在WHERE子句中的字段。 经常需要排序的字段。 表主键。 频繁被连接的字段。 在查询中与其他索引列组合使用的字段。 什么是数据库事务?事务的四个特征是什么? me: 对多个数据库的操作，执行的方法， /隔离性 原子性 一致性 持久性 ai: 数据库事务(Transaction)是指作为一个单独执行单元的一系列操作,这些操作要么全部成功执行,要么全部不执行。 数据库事务通常具有四个关键特徵,称为 ACID: **原子性(Atomicity)😗*事务是一个不可分割的工作单位,事务中的所有操作要么全部执行成功,要么全部失败回滚。 一致性(Consistency):事务执行前后,数据库都保持一致性状态。事务执行不会破坏数据库数据的完整性和业务逻辑约束。 隔离性(Isolation):多个事务并发执行时,一个事务的执行不应影响其他事务的执行。 持久性(Durability):已提交的事务对数据库的修改应该永久保存在数据库中,不会被回滚。 什么是数据库的锁机制?有哪几种锁? me: 对数据查询访问的限制操作 / 悲观锁 乐观锁 ai: 数据库锁机制是为了保证数据库并发访问的一致性而设计的,它通过对数据加锁来实现多用户对数据库的并发访问控制。 常见的数据库锁主要有以下两种: **共享锁(S锁)😗*允许多个事务对同一数据进行读取操作,防止资源被修改。 排他锁(X锁):只允许一个事务占有数据的排他访问权,防止多个事务同时修改数据。 除此之外,数据库锁可以分为以下几种: 行级锁:对关系表中的某一行加锁。 表级锁:对整张表加锁。 页级锁:对数据表的某个页面加锁。 表空间锁:对表空间中的所有对象加锁。 数据库锁:对整个数据库加锁。 什么是数据库的并发控制?常见的并发控制方法有哪些? me: null ai: 数据库的并发控制是为了保证在多个事务并发执行时不破坏数据库的完整性和一致性而设计的机制。常见的并发控制方法有以下几种: 锁机制:通过在数据上加锁来实现并发控制,如共享锁、排它锁等。 多版本并发控制(MVCC):每次读取都从一个快照读,不加锁。通过在修改时生成新版本的数据行副本来实现。 时间戳序方法:为每一个事务赋予一个唯一的时间戳,事务只能读取时间戳小于自己的时间戳的数据。 乐观并发控制:假设冲突较少,允许事务先执行,但在提交时检查是否违反一致性。 悲观并发控制:假设冲突很多,在操作数据前先加锁,确保操作的一致性。 基于多粒度的锁机制:采用多种粒度的锁来获得更好的并发性。 什么是数据库的故障恢复技术? checkpoint、redo log、undo log之间的关系是? me: 通过对数据库日志，对数据库故障的恢复 / ai: 数据库的故障恢复技术主要包括备份恢复技术、日志恢复技术等。 checkpoint、redo log、undo log三者之间的关系如下: checkpoint:检查点,数据库会定期将缓冲池中的脏页(修改过的数据页)刷新到磁盘上,生成一个检查点。 redo log:重做日志,记录数据库操作引起的数据修改。用于重做或回滚未提交的事务。 undo log:回滚日志,记录数据修改前的旧值。用于事务回滚时撤销对数据库的修改。 当数据库发生故障后,利用checkpoint信息将数据页恢复到故障发生时的最后known good状态。然后利用redo log重做故障后新提交的事务对数据的修改。最后再根据undo log进行未提交事务的回滚操作,直到恢复到故障发生前的状态。 数据库优化的常见手段有哪些? me: 数据库规范化 索引 ai: **SQL语句优化:**通过参数绑定、去除不必要的查询等方式优化查询语句。 数据库结构优化:合理设计表结构,避免冗余,建立索引。 数据库服务器优化:调整数据库内存、并发数等服务器参数。 查询计划优化:选择最优查询路径,如利用索引查询。 数据访问优化:减少客户端与服务器之间交互,使用连接池。 磁盘I/O优化:SEPARATE表空间,RAID技术。 **数据库分区:**通过垂直拆分或水平拆分 way 提高可扩展性。 采用读写分离机制:降低数据库访问压力。 数据库并行处理:如并行查询。 采用数据库缓存:缓存热点数据,减少磁盘I/O。 数据库中的视图有什么作用?视图可以更新数据吗? me: 视图狗都不用 ai: 简化复杂的SQL查询 通过在视图上执行查询,可以将复杂的查询封装和隐藏,使用更简单的查询语法。 ​	2保护数据 可以在视图上隐藏表中的部分敏感字段,对用户只开放必要的列。 ​	3提高查询性能 视图可以只查询必要的数据列,并且可以利用索引提升性能。 ​	4保持数据的一致性 可以在视图上定义计算字段,从而在不同的表中实现一致的数据显示。 ​	5实现数据独立 当表结构变更时,只修改视图定义,对访问视图的查询语句无须改动。 对于可更新的视图,可以通过视图实现对基表数据的修改、插入和删除操作。但有些视图由于存在聚合函数等是不可更新的。 什么是数据库的范式设计?为什么需要范式设计? me: 对数据库的属性进行规范化设计 / 减少数据库的冗余 提高数据库查询 优化数据库 ai: 数据库需要范式设计主要有以下原因: 减少数据冗余 范式设计可以识别出不合规范的设计,消除数据冗余,节省存储空间。 避免插入异常 消除非主属性对主属性的部分函数依赖可以避免插入异常。 避免删除异常 消除非主属性对主属性的传递函数依赖可以避免删除异常。 避免更新异常 符合范式的关系模式,非主属性不依赖于其他非主属性,可以避免更新异常。 提高查询性能 减少数据冗余可以提高查询和搜索的性能。 保持数据一致性 符合范式的设计可以保证数据一致性,避免数据操作引起的数据不一致。 方便数据库应用设计 降低数据库复杂度,使数据库结构更清晰简洁,便于开发人员设计和使用。 数据库的主键和唯一键有什么区别? me: 主键 必须唯一性唯一标志 可以作为其他表的外键 唯一键 属性唯一 ai: 主键是一行数据的唯一标识,可以唯一定位一行数据,每张表只能有一个主键。唯一键不是主键,一张表可以有多个唯一键。 主键不允许为空值,唯一键列可以为空值。 主键直接定义在表中。唯一键可以定义在表中,也可以通过唯一索引实现唯一键约束。 主键默认会建立主键索引,数据库系统会自动为主键创建索引。唯一键可以建立唯一索引,也可以不创建。 **主键不允许修改,**除非重建表。唯一键可以修改,但不能重复。 每张表必须定义主键,以标识唯一一行记录。唯一键不是必需的。 一个表可以有多个唯一键,但最多只能有一个主键。 什么是数据库的参照完整性?如何通过外键约束实现参照完整性? me: 忘了 ai: 数据库的参照完整性是指存在外键关系的表之间的数据一致性。它通过外键约束来实现。 外键约束的作用是保证子表数据外键列的值必须来自主表的主键列的值。这样就建立了主表和子表数据之间的链接,保证了主 子 表数据的一致性。 具体实现参照完整性的方法: 在子表添加外键列,其数据类型和主表的主键列一致。 在子表外键列上添加外键约束,约束引用主表的主键列。 指定外键更新和删除时的操作,如级联更新/删除或设置为无动作。 可以设置外键值为null,也可以设置为不允许为空。 数据库的三大设计范式之间有什么关系?为什么要遵守高级范式的设计? me: 三个范式 互相递进 第三范式在第二范式基础上更加要求 / 遵循高级范式可以减少数据冗余 数据操作异常 数据一致性 ai: 数据库的三大范式之间是逐步规范化的关系: 第一范式(1NF)是关系数据库的基础,表的每一列都是不可分割的基本数据项。 第二范式(2NF)在1NF的基础上,非码属性必须完全依赖于候选码,消除非主属性对主码的部分函数依赖。 第三范式(3NF)在2NF基础上,任何非主属性不依赖于其它非主属性,消除传递依赖。 高级范式都是在第三范式的基础上建立的,如BCNF范式等。 遵守高级范式设计数据库的主要理由: 可以避免数据冗余,节省数据存储空间。 将数据结构分解成合理的形式,有利于数据库维护。 减少插入、更新、删除异常的发生。 提高数据查询和访问的效率。 提高程序对数据库的设计和操作的简单性。 方便对数据库的扩展和修改。 提高数据的一致性和完整性。 什么是数据库的**冗余设计?**冗余设计的利与弊是什么? me： 不知道 ai: 数据库冗余设计指在数据库设计中存在一定数据冗余或重复的设计。 冗余设计的利与弊: 利: 提高了数据的完整性和一致性。系统容错能力增强。 提高数据读取效率。多表查询时,冗余数据可以减少连接操作。 提高数据写入效率。允许在少数表中进行冗余存储,以提高写效率。 简化数据库设计,可以利用冗余数据减少复杂的查询。 弊: 数据冗余增加了数据维护的难度。 提高了数据存储空间的需求。 提高了系统设计和开发的难度。需考虑数据同步问题。 增加了数据库插入和更新的问题。 出现数据不一致的可能。 数据库连接的分类有哪些?各有什么特点? me: 使用数据库引擎 使用数据池链接 / 1， 2，数据池连接减少操作次数 ai： 短连接:每次数据库操作后就关闭连接。 特点:连接创建和关闭频繁,资源消耗大,性能较差。 长连接:重复使用同一个数据库连接,对多次数据库操作优化。 特点:减少连接创建和关闭次数,性能较好。但如果长时间不关闭,会占用连接资源。 另外,数据库连接还可以分为: **直接连接:**应用程序直接连接数据库。 特点:简单,无中间层,但不利于管理和拓展。 连接池连接:使用连接池存放数据库连接,应用程序从池中获取连接。 特点:可以重用连接,提高效率。但需要注意池容量控制。 什么是数据库事务的ACID特性?缺少某一特性会造成什么问题? me: 隔离性 一致性 原子性 持久性 / 缺少会造成数据不一致 事务失效 ai: 原子性(Atomicity):事务是一个不可分割的工作单位,事务中的操作要么都成功,要么都失败。 一致性(Consistency):事务执行前后,数据库都保持一致性状态。 隔离性(Isolation):事务并发执行时,一个事务的执行不应影响其他事务。 持久性(Durability):已提交事务对数据库修改是持久的,即使系统故障也不会丢失。 如果缺少某一特性: 缺少原子性:事务执行可能只部分成功,使数据处于不一致状态。 缺少一致性:事务执行使数据库从一个一致状态变成不一致状态。 缺少隔离性:事务并发执行相互影响,数据错误。 缺少持久性:系统故障后,已提交事务的修改可能丢失 选择使用何种数据库索引类型的判断标准有哪些? me： 不知道 ai: 查询方式 - 根据查询中条件列的判断,选择合适的索引,如唯一索引、普通索引、前缀索引等。 查询性能 - 根据查询的性能要求,如查询范围的大小,选择聚簇索引或非聚簇索引。 数据量 - 数据量小可以考虑使用唯一索引;数据量大则应优先考虑普通索引。 数据变更频率 - 变更频繁的数据字段不太适合创建索引。静态数据字段可优先考虑。 索引维护成本 - 索引能够带来查询性能提升需要与维护索引的成本作比较。 索引限制 - 一些数据库对索引的 key 长度、数量都有限制,在设计时需要注意。 数据关系 - 与查询条件 columnist 相关联的数据字段优先考虑建立索引。 实际执行查询计划 - 可以比较真实的执行计划来决定创建哪些索引。 数据库的性能优化手段中,哪些属于SQL优化,哪些属于硬件优化? me; 索引优化 分页 属于sql //硬件优化 ai: SQL优化主要包括: SQL语句优化 - 使用EXPLAIN检查执行计划,优化查询方式,避免全表扫描等。 索引优化 - 加入适当的索引,减少查询需要扫描的数据。 数据库结构优化 - 规范设计表和库,避免冗余索引和查询。 参数优化 - 配置合理的缓存,连接数等数据库参数。 硬件优化主要包括: 升级CPU、内存 - 提高数据库服务器的处理能力。 使用SSD - 减少I/O等待时间。 分库分表 - 减少单库单表数据量,提高查询效率。 采用更高效的磁盘IO方式 - 如RAID 10。 选择合适的存储引擎 - 如InnoDB, MyISAM等。 客户端连接优化 - 连接池,本地缓存等。 数据库三范式有什么作用?不符合三范式会带来哪些问题? me: 规范化数据库结构 减少数据冗余 不符合 可能造成数据冗余 数据异常 数据库操作异常 ai: 数据库三范式的主要作用是: 避免数据冗余和异常 - 三范式要求数据表中的每个列都和主键直接相关,从而避免重复和多余的数据。 提高查询效率 - 三范式将数据划分为多张功能独立的表,而非塞进一个大表,提高查询速度。 降低更新异常 - 更新时只需要更新一处,不会出现数据不一致的情况。 提高系统扩展性 - 三范式使表的结构合理独立,易于扩展。 不符合三范式主要会带来以下问题: 数据冗余和数据不一致 - 同样的数据出现在多个表中,数据重复,容易出现不一致。 插入异常 - 在一个表中插入数据,需要同步插入其他表,否则产生数据不一致。 删除异常 - 删除操作可能会删掉其他表还在使用的数据。 更新异常 - 同一数据不同表的更新可能不一致。 系统维护困难 - 字段增删改都会影响多张表,维护复杂。 数据库事务的四个特征是:原子性、一致性、隔离性和持久性。请解释这四个特征的意义。 原子性(Atomicity):事务是一个不可分割的工作单位,事务中的操作要么都成功,要么都失败。 一致性(Consistency):事务执行前后,数据库都保持一致性状态。 隔离性(Isolation):事务并发执行时,一个事务的执行不应影响其他事务。 持久性(Durability):已提交事务对数据库修改是持久的,即使系统故障也不会丢失。 数据库的并发控制有哪几种常见方法?各自的优缺点是什么? me: 加锁{表锁 行锁 } 事务 / 加锁可以并发数据安全 效率慢 不加锁可能不安全但效率快 ai: 锁机制 优点:并发冲突控制能力强,保证数据一致性。 缺点:锁的获取和释放有较大开销,会降低并发性能。锁模式不当还可能导致死锁。 多版本并发控制(MVCC) 优点:不会阻塞读操作,提高了读性能和并发性。 缺点:需要额外空间存储多版本数据,写操作开销也较大。 时间戳 ordering 优点:无需锁及多版本,并发控制简单。 缺点:只适用于读多写少的场景,可扩展性较差。 乐观锁 优点:不阻塞读操作,无死锁问题。 缺点:写冲突时会重试和回滚,成功率不高。 分布式事务 优点:支持分布式场景的并发控制。 缺点:实现复杂,资源开销大,不支持高并发。 数据库的锁有共享锁和排它锁,这两种锁的区别是什么?各自使用场景? me: 共享锁指进程运行所需要资源可以被其他进程所共享使用 排他锁指进程所需资源仅可自己使用其他进程无法请求已使用的资源 ai: 兼容性不同： S锁与S锁兼容，可以多个事务同时加S锁。 X锁与X锁和S锁都不兼容，加X锁时其他事务不能再加任何锁。 加锁读写能力不同： S锁只允许读取数据，不允许修改。 X锁既可以读取也可以修改数据。 加锁粒度不同： S锁通常是行级锁，只锁定查找到的行。 X锁一般是表级锁，会锁定整张表。 根据这些特性，可以将它们用于不同的事务场景： S锁的使用场景： S锁适用于只读事务，因为它们可以并发地加锁，从而提高并发度，允许多个事务同时读取相同的数据。这对于读取频繁、但修改较少的场景非常有用，例如报表查询等。 X锁的使用场景： X锁适用于写事务，因为它提供了互斥访问，确保在一个事务修改数据时，其他事务无法访问或修改相同的数据。这对于需要保证数据一致性和避免冲突的写操作非常重要，例如更新、删除等操作。 读写混合事务的处理： 在某些情况下，可能需要同时进行读取和写入操作。在这种情况下，可以先加X锁，以确保数据的独占访问权。然后，在需要读取的行上加S锁，以便在读取过程中保持一致性。最后，在完成操作后，释放所有锁。 共享锁（Shared Lock）： 共享锁允许多个事务同时获取同一个数据项的锁，以进行读操作。多个事务可以同时持有共享锁，但不能与排他锁同时存在。 共享锁之间是兼容的，这意味着一个事务可以在另一个事务持有共享锁的同时获取相同数据项的共享锁。 共享锁用于读取操作，可以并发地读取数据，从而提高并发性能。 适用场景：当多个事务需要读取相同的数据项时，可以使用共享锁，以避免冲突并允许并发读取操作。 排他锁（Exclusive Lock）： 排他锁在事务需要进行写操作时获取，确保数据在写操作期间不会被其他事务读取或写入。 排他锁与其他任何锁（包括共享锁和排他锁）都不兼容，这意味着当一个事务持有排他锁时，其他事务不能获取相同数据项的任何锁。 排他锁用于写操作，保证数据的独占性，避免并发写入冲突，从而维护数据的一致性。 适用场景：当事务需要对数据进行写操作（修改、删除等）时，应该获取排他锁，以确保数据的一致性和完整性。 在实际应用中，根据事务的需求和操作类型，可以选择适当的锁策略。有时候，也会出现读写混合的场景，这时可能需要在读操作时获取共享锁，在写操作时获取排他锁，以实现合适的并发控制和数据保护。 为什么需要数据库的事务处理?事务能够保证数据库的一致性吗? me: 对数据库需要并行操作 /事务可以保持一致性 ai: 将多条相关SQL作为一个不可分割的工作单元执行,以保证数据的完整性。 提供将数据库从一致性状态变换到另一致性状态的机制。 在并发访问时,保证事务之间的隔离性。 在系统故障后,恢复数据库状态以保持数据一致性。 但是,事务不能完全保证数据库的一致性。原因如下: 事务只能保证数据库从一个一致状态转变到另一个一致状态,不能防止一开始数据库状态就不一致。 长时间事务会降低并发性,也无法完全隔离事务之间的影响。 硬件故障也可能导致事务处理失败,无法恢复数据库一致状态。 错误或不合理的事务处理逻辑同样可能破坏数据一致性。 数据库的冗余对性能有什么影响?如何在冗余与性能间做平衡? me: 数据库冗余导致数据异常 性能读写降低，数据库操作异常数据不安全不一致 / 合理规划数据库设计 结合实际使用不同的范式 ai: 写入性能 - 冗余会导致每个写操作需要更新多个副本,降低写入速度。 读取性能 - 适当冗余可以提高读取速度,因为读取可以分散在多个副本上。但冗余过高会导致缓存浪费和磁盘空间浪费,降低效率。 内存占用 - 数据冗余会增加内存占用。 数据不一致 - 多个副本存在数据不一致的可能,需要额外的完整性检查。 平衡冗余和性能可以从以下几个方面进行: 只对**最常读取和最重要的数据建立冗余,**不要对全部数据均创建冗余。 控制冗余副本的数量,一般2-3个副本就足够提供读取性能优势。过多冗余反而降低效率。 采用异步或延迟的冗余策略,减小冗余对写入的影响。 对冗余数据进行分区,避免单点热点问题。 利用缓存来提高读取速度,而不是单纯依赖冗余。 对冗余数据进行压缩,减少存储和内存开销。 加强系统间数据一致性检测与同步机制,降低冗余带来的不一致风险。 配合业务特点采用适当的冗余策略,如主从式、份额式等。 数据库优化中,对查询语句优化和对数据库表优化有何不同?应优先考虑哪些方面? me: 查询语句优化 --&gt; 在查询过程中更快或准确查询 通过索引 条件 连表等操作 数据库表优化 --&gt; 在数据表建立 对数据进行规范化 分表 分页 优先考虑语句优化 比较直接 对数据库表优化 可能比较麻烦 ai: 查询语句优化 重点优化SQL查询逻辑,使查询更高效 如添加索引、SQL优化、查询重写等 目的是消除不必要的查询,减少扫描行数 数据库表优化 重点优化表结构与设计,减少存储冗余 如正规化、拆分表、垂直拆分等 目的是减少储存空间,提高CRUD效率 优先考虑的方面: 对重要且频繁的查询语句进行优化 对大表、重要业务表的结构设计优化 先从查询语句入手,对症下药 查询无法优化时再考虑表结构调整 选择使用物理外键与逻辑外键,应该考量哪些因素?两者的优缺点? me: null ai: 数据完整性需求 物理外键通过约束可以保证引用完整性,删除/更新主表数据时限制外键变化。 逻辑外键不能自动保证引用完整性,需要通过应用程序来维护。 查询性能需求 物理外键会对主表创建索引,可提高联表查询速度。 逻辑外键没有索引,联表查询需要全表扫描,较慢。 数据变更需求 物理外键的约束会限制主表数据的删除与更新。 逻辑外键没有这个限制,主表变更更灵活。 系统性能限制 物理外键的约束会增加插入/更新时的开销。 逻辑外键的开销较小。 物理外键的优点是保证数据一致性,提高查询速度,但会限制主表变更。 逻辑外键的优点是变更灵活性高,系统开销较小,但无法自动保证引用完整性。 数据库索引在提高查询速度的同时,会带来哪些问题?该如何权衡? me: 额外内存开销 ai: 写入开销增加 索引会增加数据库写入数据时的开销。所有索引字段的值都需要同步更新。 额外存储空间占用 索引需要额外的存储空间来保存索引结构和索引值。 索引维护成本 修改表结构时需要重新建立索引,也需要定期维护索引。 可能导致查询优化器依赖索引 存在索引并不一定被查询优化器使用,可能导致非预期的查询计划。 降低部分写操作的性能 索引可以加速查询,但会降低部分INSERT,UPDATE和DELETE的性能。 因此,建立索引需要权衡其带来的收益和成本。一般的考虑原则是: 仅对常用字段建立索引,不要对很少使用或不作为查询条件的字段建立索引。 删除不再使用或很少使用的索引,不定期评估索引的使用效果。 对高并发的读写操作要谨慎建立索引。 对TEXT、BLOB等大字段尽量不要创建索引。 在建立复合索引时考虑列的顺序对性能的影响。 对于大表要建立部分索引而不是全表索引。 数据库视图的作用有哪些?使用视图可能带来的问题是什么?应如何应对? me: 视图狗都不用 ai: 数据库范式设计的目标是什么?为什么需要遵循范式化设计? me: 数据库性能 维护 变好 ai； 避免数据冗余和异常,提高数据的完整性和一致性。 降低数据维护和存储成本。 提高查询性能。 确保数据库结构灵活扩展,便于应用程序开发。 遵循范式化设计主要有以下原因: 减少数据冗余,避免同样的数据出现在多个表中,占用大量存储空间。 避免插入、更新异常,如无法正常删除的数据。这些异常会导致数据库结构混乱。 降低维护成本,不需要在多个表中同步修改冗余数据。 提高查询效率,不需要在多表中查询同样的数据。 提高可扩展性,系统变更不会影响数据库整体结构。 有利于未来优化,如拆分表等。 便于程序开发,不同模块访问不同表,业务清晰。 解释SQL语句的优化原则,有哪些需要注意的点? ai: 尽量减少查询的数据行数,使用WHERE条件进行过滤。 尽量减少JOIN表的数量,避免不必要的连接查询。 对经常查询的字段建立索引,提高查询效率。 避免在WHERE子句中使用NOT IN和&lt;&gt;操作符,它们难以优化。 使用白名单限制查询范围,避免全表扫描。 对文本字段应加引号限制前缀wildcard查询。 对统计类查询使用GROUP BY而不是DISTINCT去重。 避免数据类型的隐式转换,这会降低查询效率。 对多表JOIN查询,保证ON和WHERE条件列有索引。 编写存储过程提高重复查询的效率。 对批量插入数据操作使用事务提高效率。 对动态SQL参数使用绑定变量提高稳定性。 避免使用游标或联合查询,它们执行效率较低。 对复杂查询分步进行,逐步优化。 数据库连接池的作用是什么?使用连接池可能带来哪些问题? me: 对数据库操作时，避免多次链接数据库，避免每次数据操作需要重新链接数据库 AI: 数据库连接池的主要作用是提高数据库连接的使用效率。 **重用存在的连接,**避免频繁创建和关闭连接的开销。 管理连接对象数目,避免过多连接耗尽资源。 实现连接的线程安全共享。 提供连接的待命池,加快获取连接的速度。 使用连接池可能带来以下问题: 配置不当可能造成连接池溢出、泄漏等。 多线程环境下需要实现连接管理的同步机制。 连接长时间闲置导致连接超时。 大量连接创建可能带来内存压力。 连接没有按需释放,浪费资源。 连接长时间占用,出现瓶颈。 选择使用联合索引与组合索引的考虑因素有哪些?各自的优缺点? 如何判断一个数据库是否需要进行分库分表?分库分表的方案有哪些? 讲解数据库故障转移与负载均衡的工作原理,两者有何不同? 数据库主备服务器架构的工作原理是什么?主备服务器之间如何同步数据? 讲解行锁、表锁、意向锁的使用场景和实现机制。 数据库数据如何设计维度建模与事实建模?二者有何优势? 什么是数据库的无损调整?如何实现数据库结构的无损调整? 数据库事务隔离级别有哪些?各个隔离级别的区别是什么? 讲解InnoDB和MyISAM存储引擎的区别与应用场景。 数据库空间数据型如何设计合理的空间索引提高查询效率? 什么是数据库的慢查询?如何定位和优化慢查询? 什么是数据库死锁?如何避免数据库死锁的发生? 讲解关系型数据库与NoSQL数据库的区别,两者各自的应用场景。 讲解SQL注入攻击的原理,如何通过参数化查询防止SQL注入。 数据库服务器内存不足时应该如何调优?有哪些可优化方向? 设计一个支持百万级流量的数据库架构,需要考虑哪些方面? 关系型数据库与文档型数据库的区别在哪里?各自的典型产品和应用场景? 数据库的存储引擎有哪些?各有什么特点? 数据库索引的底层实现原理是什么?B+树与B树的区别在哪里? 讲解数据库事务的隔离机制,包括脏读、不可重复读、幻读的概念。 什么是数据库范式?解释第一范式、第二范式、第三范式的定义。 数据库优化中,业务层优化和SQL语句优化的focal区别是什么? 选择增量备份与完全备份应考虑哪些因素?两者分别适用于哪些场景? 解释数据库连接的集中式与分布式部署方式,讲述两种方案的利弊。 数据库查询优化中,应该优先考虑查询缓存还是索引?理由是什么? 讲解数据库主键和唯一索引的区别,各自的使用场景。 为什么需要数据库事务?事务如何保证数据库的ACID特性? 选择MySQL存储引擎时,应考虑哪些因素?各存储引擎的应用场景? 解析SQL语句的优化原则,有哪些需要注意的点? 设计支持大量并发的数据库架构需要考虑哪些方面? 什么是数据库连接池?使用连接池带来哪些好处? 讲解三种数据库连接方案:长连接、短连接、连接池。 数据库的水平拆分与垂直拆分有何区别?各自的使用场景是? 设计一个支持百万级流量的数据库架构,需要考虑哪些方面? 选择使用物理外键与逻辑外键,应该考量哪些因素?两者的优缺点? 如何判断一个数据库是否需要进行分库分表?分库分表的方案有哪些? 数据库事务有哪几种隔离级别?各自的优缺点是什么? 讲解数据库三大范式的意义,以及如何实现范式设计。 什么是数据库的FILESTREAM技术?有什么优点和使用场景? 解析主从复制和主主复制的工作原理、优缺点和适用场景。 数据库优化中,SQL语句优化和索引优化的重要程度如何区分? 讲解行锁和表锁的使用场景、加锁机制、优缺点。 如何查看和分析MySQL的慢查询日志? 什么是MVCC机制?InnoDB如何通过MVCC实现事务隔离? 选择使用联合索引与组合索引的考虑因素有哪些?各自的优缺点? 什么是数据库范式?为什么要进行范式化设计? 讲解NoSQL数据库的特点,列举几种常见的NoSQL数据库。 解析数据库故障转移和负载均衡的工作机制、区别和应用场景。 MongoDB和Redis的区别在哪里?各自的应用场景有哪些? 数据库连接池的工作原理是什么?使用连接池的优缺点? 如何 diagnoase 和优化一个慢SQL查询?需要注意哪些方面? 设计一个支持百万用户同时在线的数据库架构,需要考虑哪些方面? 解析SQL和NoSQL数据库的区别,以及各自的应用场景。 讲解InnoDB和MyISAM这两种存储引擎的特点和区别。 什么是数据库范式?为什么需要进行范式化设计? 解析行锁、表锁、意向锁的加锁机制、使用场景和优缺点。 讲解事务的ACID特性,以及事务的隔离级别和实现。 解析B+树和B树的区别,以及为什么索引通常选择B+树。 讲解三种常见的数据库拆分方案:垂直拆分、水平拆分、分库分表。 数据仓库与数据库有哪些区别?数据仓库的优点是什么? 如何设计一个支持地理位置查询的数据库架构方案? 什么是数据库的无损扩容?应该如何实现? 解析大型数据库系统的容灾技术,需要考虑哪些方面? 如何防止和解决数据库中的死锁问题? 什么是数据库的主从复制?如何实现 MySQL 的多源复制? 解析OLTP系统和OLAP系统的特点和区别。 如何为数据库服务器优化内存配置?需要关注哪些参数?">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-81142974.css" as="style"><link rel="stylesheet" href="/assets/style-81142974.css">
    <link rel="modulepreload" href="/assets/app-65819ca9.js"><link rel="modulepreload" href="/assets/framework-56e099cb.js"><link rel="modulepreload" href="/assets/1.html-370bc013.js"><link rel="modulepreload" href="/assets/1.html-e269eed0.js"><link rel="prefetch" href="/assets/intro.html-bb34d506.js" as="script"><link rel="prefetch" href="/assets/index.html-bd8e567b.js" as="script"><link rel="prefetch" href="/assets/slides.html-91eae00f.js" as="script"><link rel="prefetch" href="/assets/disable.html-d991dcc6.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-d4addaf5.js" as="script"><link rel="prefetch" href="/assets/markdown.html-ac8fc095.js" as="script"><link rel="prefetch" href="/assets/page.html-5c7c0c98.js" as="script"><link rel="prefetch" href="/assets/index.html-d254e2c7.js" as="script"><link rel="prefetch" href="/assets/cherry.html-ee5208e8.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-43901547.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-7fcae4a6.js" as="script"><link rel="prefetch" href="/assets/tomato.html-c4aceadb.js" as="script"><link rel="prefetch" href="/assets/1.html-b6f3fcc4.js" as="script"><link rel="prefetch" href="/assets/2.html-c9ae7c85.js" as="script"><link rel="prefetch" href="/assets/1.html-ce45317a.js" as="script"><link rel="prefetch" href="/assets/3.html-5c3117a0.js" as="script"><link rel="prefetch" href="/assets/4.html-cf222a9d.js" as="script"><link rel="prefetch" href="/assets/1.html-f6694eac.js" as="script"><link rel="prefetch" href="/assets/2.html-e736ad93.js" as="script"><link rel="prefetch" href="/assets/3.html-9a1b29e9.js" as="script"><link rel="prefetch" href="/assets/1.html-be824815.js" as="script"><link rel="prefetch" href="/assets/2.html-5aee2181.js" as="script"><link rel="prefetch" href="/assets/3.html-86389910.js" as="script"><link rel="prefetch" href="/assets/4.html-5bdfd862.js" as="script"><link rel="prefetch" href="/assets/5.html-db5b0433.js" as="script"><link rel="prefetch" href="/assets/6.html-32adee7b.js" as="script"><link rel="prefetch" href="/assets/7.html-32c3df90.js" as="script"><link rel="prefetch" href="/assets/3.html-0a1d56c4.js" as="script"><link rel="prefetch" href="/assets/4.html-080ee21f.js" as="script"><link rel="prefetch" href="/assets/5.html-fba91577.js" as="script"><link rel="prefetch" href="/assets/6.html-869a548e.js" as="script"><link rel="prefetch" href="/assets/lua.html-bcb6edc5.js" as="script"><link rel="prefetch" href="/assets/1.html-2e327d5f.js" as="script"><link rel="prefetch" href="/assets/2.html-df478210.js" as="script"><link rel="prefetch" href="/assets/3.html-07277b50.js" as="script"><link rel="prefetch" href="/assets/4.html-502c67e8.js" as="script"><link rel="prefetch" href="/assets/1.html-bdeb03a3.js" as="script"><link rel="prefetch" href="/assets/2.html-6ee78e95.js" as="script"><link rel="prefetch" href="/assets/3.html-5f16e39f.js" as="script"><link rel="prefetch" href="/assets/4.html-dd788c19.js" as="script"><link rel="prefetch" href="/assets/1.html-2f20aba0.js" as="script"><link rel="prefetch" href="/assets/2.html-41285371.js" as="script"><link rel="prefetch" href="/assets/3.html-9f848163.js" as="script"><link rel="prefetch" href="/assets/4.html-e5f4d4be.js" as="script"><link rel="prefetch" href="/assets/5.html-8d353327.js" as="script"><link rel="prefetch" href="/assets/6.html-cfdef71b.js" as="script"><link rel="prefetch" href="/assets/2.html-02ea2ec3.js" as="script"><link rel="prefetch" href="/assets/3.html-f08193e4.js" as="script"><link rel="prefetch" href="/assets/404.html-594f5d63.js" as="script"><link rel="prefetch" href="/assets/index.html-63127f1b.js" as="script"><link rel="prefetch" href="/assets/index.html-f1cafae0.js" as="script"><link rel="prefetch" href="/assets/index.html-aea6ce29.js" as="script"><link rel="prefetch" href="/assets/index.html-92ebbfa3.js" as="script"><link rel="prefetch" href="/assets/index.html-c8e5f742.js" as="script"><link rel="prefetch" href="/assets/index.html-f31b87b3.js" as="script"><link rel="prefetch" href="/assets/index.html-4dd07785.js" as="script"><link rel="prefetch" href="/assets/index.html-5346bf93.js" as="script"><link rel="prefetch" href="/assets/index.html-1d33e339.js" as="script"><link rel="prefetch" href="/assets/index.html-f8ac348a.js" as="script"><link rel="prefetch" href="/assets/index.html-24e480c2.js" as="script"><link rel="prefetch" href="/assets/index.html-6615e7c0.js" as="script"><link rel="prefetch" href="/assets/index.html-32253992.js" as="script"><link rel="prefetch" href="/assets/index.html-223571c2.js" as="script"><link rel="prefetch" href="/assets/index.html-ba87fae4.js" as="script"><link rel="prefetch" href="/assets/index.html-8039de1b.js" as="script"><link rel="prefetch" href="/assets/index.html-8c3331b6.js" as="script"><link rel="prefetch" href="/assets/index.html-cdbc646b.js" as="script"><link rel="prefetch" href="/assets/index.html-6b83a438.js" as="script"><link rel="prefetch" href="/assets/index.html-2e755d47.js" as="script"><link rel="prefetch" href="/assets/index.html-b423562e.js" as="script"><link rel="prefetch" href="/assets/index.html-d392d90e.js" as="script"><link rel="prefetch" href="/assets/index.html-136d0764.js" as="script"><link rel="prefetch" href="/assets/index.html-8080d7ae.js" as="script"><link rel="prefetch" href="/assets/index.html-b92b8256.js" as="script"><link rel="prefetch" href="/assets/index.html-beff99f7.js" as="script"><link rel="prefetch" href="/assets/index.html-253ae200.js" as="script"><link rel="prefetch" href="/assets/index.html-5850ee6d.js" as="script"><link rel="prefetch" href="/assets/index.html-b67256d4.js" as="script"><link rel="prefetch" href="/assets/index.html-7387caf7.js" as="script"><link rel="prefetch" href="/assets/index.html-a2695403.js" as="script"><link rel="prefetch" href="/assets/index.html-577f766d.js" as="script"><link rel="prefetch" href="/assets/index.html-044ee318.js" as="script"><link rel="prefetch" href="/assets/index.html-da618871.js" as="script"><link rel="prefetch" href="/assets/index.html-8afb0b28.js" as="script"><link rel="prefetch" href="/assets/index.html-a8217b62.js" as="script"><link rel="prefetch" href="/assets/index.html-56a017de.js" as="script"><link rel="prefetch" href="/assets/index.html-6b3fbd60.js" as="script"><link rel="prefetch" href="/assets/index.html-d26acfc0.js" as="script"><link rel="prefetch" href="/assets/index.html-a8eac30e.js" as="script"><link rel="prefetch" href="/assets/index.html-096a9aee.js" as="script"><link rel="prefetch" href="/assets/index.html-883630ec.js" as="script"><link rel="prefetch" href="/assets/index.html-043e87d8.js" as="script"><link rel="prefetch" href="/assets/index.html-0844533a.js" as="script"><link rel="prefetch" href="/assets/index.html-e191a1f5.js" as="script"><link rel="prefetch" href="/assets/index.html-9273cef8.js" as="script"><link rel="prefetch" href="/assets/index.html-2ddc49d2.js" as="script"><link rel="prefetch" href="/assets/index.html-c0b8f8a5.js" as="script"><link rel="prefetch" href="/assets/index.html-6ce5bf3b.js" as="script"><link rel="prefetch" href="/assets/index.html-1a6c71c2.js" as="script"><link rel="prefetch" href="/assets/index.html-8e1b5509.js" as="script"><link rel="prefetch" href="/assets/index.html-3a34de06.js" as="script"><link rel="prefetch" href="/assets/index.html-11a6913a.js" as="script"><link rel="prefetch" href="/assets/index.html-96aca4dd.js" as="script"><link rel="prefetch" href="/assets/index.html-052bdcb6.js" as="script"><link rel="prefetch" href="/assets/index.html-1c3e70ce.js" as="script"><link rel="prefetch" href="/assets/index.html-ea39b9d1.js" as="script"><link rel="prefetch" href="/assets/index.html-31ffea44.js" as="script"><link rel="prefetch" href="/assets/index.html-1af26993.js" as="script"><link rel="prefetch" href="/assets/index.html-5523b710.js" as="script"><link rel="prefetch" href="/assets/index.html-cfec62d4.js" as="script"><link rel="prefetch" href="/assets/index.html-55f3d75b.js" as="script"><link rel="prefetch" href="/assets/index.html-88385ae3.js" as="script"><link rel="prefetch" href="/assets/index.html-b882fd17.js" as="script"><link rel="prefetch" href="/assets/index.html-454f0094.js" as="script"><link rel="prefetch" href="/assets/index.html-ccfb09d0.js" as="script"><link rel="prefetch" href="/assets/intro.html-d46efe19.js" as="script"><link rel="prefetch" href="/assets/index.html-ae90b228.js" as="script"><link rel="prefetch" href="/assets/slides.html-9ff0f488.js" as="script"><link rel="prefetch" href="/assets/disable.html-5302060c.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-5a62243f.js" as="script"><link rel="prefetch" href="/assets/markdown.html-7524b5a8.js" as="script"><link rel="prefetch" href="/assets/page.html-d4bdbacc.js" as="script"><link rel="prefetch" href="/assets/index.html-3136f752.js" as="script"><link rel="prefetch" href="/assets/cherry.html-814ba7d2.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-7e8c50c8.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-2a3ba0cf.js" as="script"><link rel="prefetch" href="/assets/tomato.html-9f64990f.js" as="script"><link rel="prefetch" href="/assets/1.html-7c137e39.js" as="script"><link rel="prefetch" href="/assets/2.html-4fbb532a.js" as="script"><link rel="prefetch" href="/assets/1.html-5b41c3c2.js" as="script"><link rel="prefetch" href="/assets/3.html-054222d0.js" as="script"><link rel="prefetch" href="/assets/4.html-2e0cde1c.js" as="script"><link rel="prefetch" href="/assets/1.html-bd837d03.js" as="script"><link rel="prefetch" href="/assets/2.html-0075e625.js" as="script"><link rel="prefetch" href="/assets/3.html-83f6317a.js" as="script"><link rel="prefetch" href="/assets/1.html-8eda1949.js" as="script"><link rel="prefetch" href="/assets/2.html-e8f420a5.js" as="script"><link rel="prefetch" href="/assets/3.html-24a29a23.js" as="script"><link rel="prefetch" href="/assets/4.html-f030151e.js" as="script"><link rel="prefetch" href="/assets/5.html-71882f49.js" as="script"><link rel="prefetch" href="/assets/6.html-f050a962.js" as="script"><link rel="prefetch" href="/assets/7.html-6a9875f3.js" as="script"><link rel="prefetch" href="/assets/3.html-dcbc8604.js" as="script"><link rel="prefetch" href="/assets/4.html-d18eff7d.js" as="script"><link rel="prefetch" href="/assets/5.html-228e2f1c.js" as="script"><link rel="prefetch" href="/assets/6.html-e68e0fbb.js" as="script"><link rel="prefetch" href="/assets/lua.html-a03ee98d.js" as="script"><link rel="prefetch" href="/assets/1.html-eb34e197.js" as="script"><link rel="prefetch" href="/assets/2.html-1340c28b.js" as="script"><link rel="prefetch" href="/assets/3.html-ba6e2311.js" as="script"><link rel="prefetch" href="/assets/4.html-df171fe9.js" as="script"><link rel="prefetch" href="/assets/1.html-34571615.js" as="script"><link rel="prefetch" href="/assets/2.html-b3e831b7.js" as="script"><link rel="prefetch" href="/assets/3.html-053b2c52.js" as="script"><link rel="prefetch" href="/assets/4.html-fcf19978.js" as="script"><link rel="prefetch" href="/assets/1.html-c9ee7335.js" as="script"><link rel="prefetch" href="/assets/2.html-d5581402.js" as="script"><link rel="prefetch" href="/assets/3.html-27955bdb.js" as="script"><link rel="prefetch" href="/assets/4.html-401b3ed3.js" as="script"><link rel="prefetch" href="/assets/5.html-72317d24.js" as="script"><link rel="prefetch" href="/assets/6.html-222372ff.js" as="script"><link rel="prefetch" href="/assets/2.html-e544c3a3.js" as="script"><link rel="prefetch" href="/assets/3.html-09b5943f.js" as="script"><link rel="prefetch" href="/assets/404.html-86880e56.js" as="script"><link rel="prefetch" href="/assets/index.html-909fd19f.js" as="script"><link rel="prefetch" href="/assets/index.html-aa02e084.js" as="script"><link rel="prefetch" href="/assets/index.html-c89b4649.js" as="script"><link rel="prefetch" href="/assets/index.html-d7b31a9f.js" as="script"><link rel="prefetch" href="/assets/index.html-9ee39423.js" as="script"><link rel="prefetch" href="/assets/index.html-aef2c4d7.js" as="script"><link rel="prefetch" href="/assets/index.html-c899b66d.js" as="script"><link rel="prefetch" href="/assets/index.html-ae412a73.js" as="script"><link rel="prefetch" href="/assets/index.html-6b1a6506.js" as="script"><link rel="prefetch" href="/assets/index.html-5c6d41ca.js" as="script"><link rel="prefetch" href="/assets/index.html-8e8993c4.js" as="script"><link rel="prefetch" href="/assets/index.html-547aa497.js" as="script"><link rel="prefetch" href="/assets/index.html-bf705354.js" as="script"><link rel="prefetch" href="/assets/index.html-89ae4dc2.js" as="script"><link rel="prefetch" href="/assets/index.html-83ee3e10.js" as="script"><link rel="prefetch" href="/assets/index.html-cd52b940.js" as="script"><link rel="prefetch" href="/assets/index.html-b1892d98.js" as="script"><link rel="prefetch" href="/assets/index.html-ff895244.js" as="script"><link rel="prefetch" href="/assets/index.html-2c60f979.js" as="script"><link rel="prefetch" href="/assets/index.html-b3d104f5.js" as="script"><link rel="prefetch" href="/assets/index.html-e94510f8.js" as="script"><link rel="prefetch" href="/assets/index.html-ed0e00e2.js" as="script"><link rel="prefetch" href="/assets/index.html-b9653855.js" as="script"><link rel="prefetch" href="/assets/index.html-659338d5.js" as="script"><link rel="prefetch" href="/assets/index.html-cece619f.js" as="script"><link rel="prefetch" href="/assets/index.html-4154a9cf.js" as="script"><link rel="prefetch" href="/assets/index.html-e5500cc6.js" as="script"><link rel="prefetch" href="/assets/index.html-11a5542f.js" as="script"><link rel="prefetch" href="/assets/index.html-ffe20159.js" as="script"><link rel="prefetch" href="/assets/index.html-8239ccca.js" as="script"><link rel="prefetch" href="/assets/index.html-25d84c29.js" as="script"><link rel="prefetch" href="/assets/index.html-8656cfdc.js" as="script"><link rel="prefetch" href="/assets/index.html-274602dd.js" as="script"><link rel="prefetch" href="/assets/index.html-56ad4c37.js" as="script"><link rel="prefetch" href="/assets/index.html-bc2a07cd.js" as="script"><link rel="prefetch" href="/assets/index.html-39eb48a5.js" as="script"><link rel="prefetch" href="/assets/index.html-64d124ec.js" as="script"><link rel="prefetch" href="/assets/index.html-fcf1ba21.js" as="script"><link rel="prefetch" href="/assets/index.html-45036084.js" as="script"><link rel="prefetch" href="/assets/index.html-5e5e2c88.js" as="script"><link rel="prefetch" href="/assets/index.html-bc9a2a05.js" as="script"><link rel="prefetch" href="/assets/index.html-a2414e8f.js" as="script"><link rel="prefetch" href="/assets/index.html-47a711aa.js" as="script"><link rel="prefetch" href="/assets/index.html-5507e2fe.js" as="script"><link rel="prefetch" href="/assets/index.html-03b95d1c.js" as="script"><link rel="prefetch" href="/assets/index.html-e0f68783.js" as="script"><link rel="prefetch" href="/assets/index.html-77f532f3.js" as="script"><link rel="prefetch" href="/assets/index.html-154c2652.js" as="script"><link rel="prefetch" href="/assets/index.html-00c28cc5.js" as="script"><link rel="prefetch" href="/assets/index.html-a0dbca5b.js" as="script"><link rel="prefetch" href="/assets/index.html-2369335a.js" as="script"><link rel="prefetch" href="/assets/index.html-36eef8a7.js" as="script"><link rel="prefetch" href="/assets/index.html-ae2a0170.js" as="script"><link rel="prefetch" href="/assets/index.html-722413a8.js" as="script"><link rel="prefetch" href="/assets/index.html-81c1e196.js" as="script"><link rel="prefetch" href="/assets/index.html-15fd02f5.js" as="script"><link rel="prefetch" href="/assets/index.html-81b86823.js" as="script"><link rel="prefetch" href="/assets/index.html-0c66c52a.js" as="script"><link rel="prefetch" href="/assets/index.html-d284248d.js" as="script"><link rel="prefetch" href="/assets/index.html-f7a380a2.js" as="script"><link rel="prefetch" href="/assets/index.html-046592f8.js" as="script"><link rel="prefetch" href="/assets/index.html-85fd1156.js" as="script"><link rel="prefetch" href="/assets/index.html-2e4728b6.js" as="script"><link rel="prefetch" href="/assets/index.html-a52c2961.js" as="script"><link rel="prefetch" href="/assets/index.html-ad0e1292.js" as="script"><link rel="prefetch" href="/assets/index.html-d6efb8e5.js" as="script"><link rel="prefetch" href="/assets/Catalog-22320f60.js" as="script"><link rel="prefetch" href="/assets/giscus-0b7adcf8.js" as="script"><link rel="prefetch" href="/assets/auto-6adc87e8.js" as="script"><link rel="prefetch" href="/assets/index-70dce5ac.js" as="script"><link rel="prefetch" href="/assets/flowchart-d65a1d8e.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-67083af4.js" as="script"><link rel="prefetch" href="/assets/mermaid-mindmap.esm.min-d62ec99d.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-30be9ea9.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-6e84c481.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-e1d721ef.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-0c95cb0f.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/xss.svg" alt="博客演示"><!----><span class="site-name hide-in-pad">博客演示</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="博客主页"><span class="font-icon icon iconfont icon-home" style=""></span>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/demo/" class="nav-link" aria-label="演示"><span class="font-icon icon iconfont icon-discover" style=""></span>演示<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="帖子"><span class="title"><span class="font-icon icon iconfont icon-edit" style=""></span>帖子</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MQ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/mq/1.html" class="nav-link" aria-label="mq1"><span class="font-icon icon iconfont icon-edit" style=""></span>mq1<!----></a></li><li class="dropdown-subitem"><a href="/other/mq/2.html" class="nav-link" aria-label="mq2"><span class="font-icon icon iconfont icon-edit" style=""></span>mq2<!----></a></li><li class="dropdown-subitem"><a href="/other/mq/3.html" class="nav-link" aria-label="MQ"><span class="font-icon icon iconfont icon-page" style=""></span>MQ<!----></a></li><li class="dropdown-subitem"><a href="/other/mq/4.html" class="nav-link" aria-label="MQ"><span class="font-icon icon iconfont icon-page" style=""></span>MQ<!----></a></li><li class="dropdown-subitem"><a href="/other/mq/5.html" class="nav-link" aria-label="MQ"><span class="font-icon icon iconfont icon-page" style=""></span>MQ<!----></a></li><li class="dropdown-subitem"><a href="/other/mq/6.html" class="nav-link" aria-label="MQ"><span class="font-icon icon iconfont icon-page" style=""></span>MQ<!----></a></li><li class="dropdown-subitem"><a href="/other/mq/7.html" class="nav-link" aria-label="MQ"><span class="font-icon icon iconfont icon-page" style=""></span>MQ<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>demo</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/demo/1.html" class="nav-link" aria-label="demo1"><span class="font-icon icon iconfont icon-edit" style=""></span>demo1<!----></a></li><li class="dropdown-subitem"><a href="/other/demo/2.html" class="nav-link" aria-label="demo2"><span class="font-icon icon iconfont icon-edit" style=""></span>demo2<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>git</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/git/1.html" class="nav-link" aria-label="git"><span class="font-icon icon iconfont icon-edit" style=""></span>git<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>io</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/io/1.html" class="nav-link" aria-label="io 1"><span class="font-icon icon iconfont icon-edit" style=""></span>io 1<!----></a></li><li class="dropdown-subitem"><a href="/other/io/2.html" class="nav-link" aria-label="io 2"><span class="font-icon icon iconfont icon-edit" style=""></span>io 2<!----></a></li><li class="dropdown-subitem"><a href="/other/io/3.html" class="nav-link" aria-label="数据库"><span class="font-icon icon iconfont icon-page" style=""></span>数据库<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>linux</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/linux/4.html" class="nav-link" aria-label="linux 1"><span class="font-icon icon iconfont icon-edit" style=""></span>linux 1<!----></a></li><li class="dropdown-subitem"><a href="/other/linux/5" class="nav-link" aria-label="linux 1"><span class="font-icon icon iconfont icon-edit" style=""></span>linux 1<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>lua</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/lua/lua.html" class="nav-link" aria-label="lua 1"><span class="font-icon icon iconfont icon-edit" style=""></span>lua 1<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>mybatis</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/mybatis/3.html" class="nav-link" aria-label="mybatis 3"><span class="font-icon icon iconfont icon-edit" style=""></span>mybatis 3<!----></a></li><li class="dropdown-subitem"><a href="/other/mybatis/4.html" class="nav-link" aria-label="mybatis 4"><span class="font-icon icon iconfont icon-edit" style=""></span>mybatis 4<!----></a></li><li class="dropdown-subitem"><a href="/other/mybatis/5.html" class="nav-link" aria-label="mybatis 5"><span class="font-icon icon iconfont icon-edit" style=""></span>mybatis 5<!----></a></li><li class="dropdown-subitem"><a href="/other/mybatis/6.html" class="nav-link" aria-label="mybatis 6"><span class="font-icon icon iconfont icon-edit" style=""></span>mybatis 6<!----></a></li><li class="dropdown-subitem"><a href="/other/mybatis/7" class="nav-link" aria-label="mybatis 7"><span class="font-icon icon iconfont icon-edit" style=""></span>mybatis 7<!----></a></li><li class="dropdown-subitem"><a href="/other/mybatis/8" class="nav-link" aria-label="mybatis 8"><span class="font-icon icon iconfont icon-edit" style=""></span>mybatis 8<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>mysql</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-current="page" href="/other/mysql/1.html" class="router-link-active router-link-exact-active nav-link active" aria-label="mysql 1"><span class="font-icon icon iconfont icon-edit" style=""></span>mysql 1<!----></a></li><li class="dropdown-subitem"><a href="/other/mysql/2.html" class="nav-link" aria-label="mysql 2"><span class="font-icon icon iconfont icon-edit" style=""></span>mysql 2<!----></a></li><li class="dropdown-subitem"><a href="/other/mysql/3.html" class="nav-link" aria-label="数据库"><span class="font-icon icon iconfont icon-page" style=""></span>数据库<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>redis</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/redis/1" class="nav-link" aria-label="redis 1"><span class="font-icon icon iconfont icon-edit" style=""></span>redis 1<!----></a></li><li class="dropdown-subitem"><a href="/other/redis/2" class="nav-link" aria-label="redis 2"><span class="font-icon icon iconfont icon-edit" style=""></span>redis 2<!----></a></li><li class="dropdown-subitem"><a href="/other/redis/3" class="nav-link" aria-label="/other/redis/3"><!---->/other/redis/3<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>spring</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/spring/1.html" class="nav-link" aria-label="spring 1"><span class="font-icon icon iconfont icon-edit" style=""></span>spring 1<!----></a></li><li class="dropdown-subitem"><a href="/other/spring/2.html" class="nav-link" aria-label="spring 2"><span class="font-icon icon iconfont icon-edit" style=""></span>spring 2<!----></a></li><li class="dropdown-subitem"><a href="/other/spring/3.html" class="nav-link" aria-label="spring"><span class="font-icon icon iconfont icon-page" style=""></span>spring<!----></a></li><li class="dropdown-subitem"><a href="/other/spring/4.html" class="nav-link" aria-label="spring"><span class="font-icon icon iconfont icon-page" style=""></span>spring<!----></a></li><li class="dropdown-subitem"><a href="/other/spring/5.html" class="nav-link" aria-label="spring"><span class="font-icon icon iconfont icon-page" style=""></span>spring<!----></a></li><li class="dropdown-subitem"><a href="/other/spring/6.html" class="nav-link" aria-label="spring"><span class="font-icon icon iconfont icon-page" style=""></span>spring<!----></a></li></ul></li><li class="dropdown-item"><a href="/other/cherry" class="nav-link" aria-label="樱桃"><span class="font-icon icon iconfont icon-edit" style=""></span>樱桃<!----></a></li><li class="dropdown-item"><a href="/other/dragonfruit" class="nav-link" aria-label="火龙果"><span class="font-icon icon iconfont icon-edit" style=""></span>火龙果<!----></a></li><li class="dropdown-item"><a href="/other/tomato" class="nav-link" aria-label="/other/tomato"><!---->/other/tomato<!----></a></li><li class="dropdown-item"><a href="/other/strawberry" class="nav-link" aria-label="/other/strawberry"><!---->/other/strawberry<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://theme-hope.vuejs.vuepress/zh/" rel="noopener noreferrer" target="_blank" aria-label="V2 文档" class="nav-link"><span class="font-icon icon iconfont icon-note" style=""></span>V2 文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="博客主页"><span class="font-icon icon iconfont icon-home" style=""></span>博客主页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-creative" style=""></span><a href="/guide/" class="title">如何使用</a><!----></p><ul class="sidebar-links"></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading active"><span class="font-icon icon iconfont icon-note" style=""></span><span class="title">文档</span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Demo</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Git</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Io</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Linux</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Lua</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Mq</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Mybatis</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">Mysql</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/other/mysql/1.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="数据库"><span class="font-icon icon iconfont icon-page" style=""></span>数据库<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/mysql/2.html" class="nav-link sidebar-link sidebar-page" aria-label="数据库"><span class="font-icon icon iconfont icon-page" style=""></span>数据库<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/mysql/3.html" class="nav-link sidebar-link sidebar-page" aria-label="数据库"><span class="font-icon icon iconfont icon-page" style=""></span>数据库<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Spring</span><span class="arrow right"></span></button><!----></section></li></ul></section></li><li><!--[--><a href="/intro.html" class="nav-link sidebar-link sidebar-page" aria-label="个人信息"><span class="font-icon icon iconfont icon-info" style=""></span>个人信息<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/slides.html" class="nav-link sidebar-link sidebar-page" aria-label="幻灯片页"><span class="font-icon icon iconfont icon-slides" style=""></span>幻灯片页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-note" style=""></span><span class="title">测试发疯</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/strawberry.html" class="nav-link sidebar-link sidebar-page" aria-label="草莓"><span class="font-icon icon iconfont icon-edit" style=""></span>草莓<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/tomato.html" class="nav-link sidebar-link sidebar-page" aria-label="番茄"><span class="font-icon icon iconfont icon-edit" style=""></span>番茄<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/dragonfruit.html" class="nav-link sidebar-link sidebar-page" aria-label="火龙果"><span class="font-icon icon iconfont icon-edit" style=""></span>火龙果<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/cherry.html" class="nav-link sidebar-link sidebar-page" aria-label="樱桃"><span class="font-icon icon iconfont icon-edit" style=""></span>樱桃<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Apple</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Banana</span><span class="arrow right"></span></button><!----></section></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="font-icon icon iconfont icon-page" style=""></span>数据库</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">xss</span></span><span property="author" content="xss"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-12-11T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 38 分钟</span><meta property="timeRequired" content="PT38M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category6 clickable" role="navigation">数据库</span><meta property="articleSection" content="数据库"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag6 clickable" role="navigation">数据库</span><span class="page-tag-item tag2 clickable" role="navigation">sql</span><meta property="keywords" content="数据库,sql"></span></div><hr></div><!----><!----><div class="theme-hope-content"><hr><hr><ol><li><p>关系型数据库的主要特点有哪些?</p><p>me:</p><p>数据关系 连表查询</p><p>ai:</p><ol><li><strong>数据以表格的形式存储</strong>,每行记录代表一个数据实体,每列属性代表数据实体的一个特征。</li><li>强调数据之间的关系,数据可以通过定义<strong>主键和外键</strong>进行关联。</li><li>数据操作通过关系代数和关系演算等关系模型进行。</li><li>提供<strong>结构化查询语言(SQL)</strong>,方便对数据的查询、插入、删除和更新。</li><li>具有**事务处理(**ACID)的功能,可以保证数据的完整性和一致性。</li><li>提供视图、存储过程、触发器等<strong>数据库对象</strong>,扩展了关系模型的建模能力。</li><li>支持数据库规范化,有助于减少数据冗余,提高存储效率。</li><li>提供用户权限管理、备份恢复等管理功能。</li><li>支持客户端/服务器架构,易于在分布式环境下部署。</li><li>成熟可靠,有完善的安全机制。</li></ol></li><li><p>数据库中的数据冗余是指什么?有哪些缺点?</p><p>me:</p><p>存储空间利用不当，存在小碎片的存储空间不能充分利用/空间占用大</p><p>ai:</p><p>数据冗余指的是在数据库中的表中出现<strong>重复或多余的数据</strong>。主要有以下两个方面的缺点:</p><ol><li>数据存储<strong>空间的浪费</strong></li></ol><p>数据冗余会导致重复或无用的数据被存储多次,占用了大量额外的存储空间。特别是在大数据库中,冗余数据会明显增加数据库的体积,增加存储成本。</p><ol><li><strong>数据异常的风险</strong></li></ol><p>存在冗余数据时,当某一处数据被修改后,相关数据不一定会同步更新,导致数据之间出现不一致的情况。这会降低数据的可靠性和完整性。</p><p>此外,数据冗余还可能导致其他问题,比如<strong>插入和删除异常、程序设计和操作复杂化</strong>等。</p><p>为了避免数据冗余,数据库的设计者通常会采用<strong>数据库规范化的方法来减少冗余</strong>,主要包括第一范式(1NF)、第二范式(2NF)、第三范式(3NF)等规范要求。合理的数据库规范化可以有效减少数据冗余,提高数据的完整性和一致性。</p></li><li><p>什么是数据库的完整性?有哪几种完整性?</p><p>me:</p><p>null</p><p>ai:</p><ol><li><strong>实体完整性</strong>:每张表的每一行(即每一个<strong>实体)都应该是唯一</strong>的,通常通过主键约束来保证。</li><li><strong>域完整性</strong>: 数据表中的每一列(<strong>属性)只允许出现合理的值</strong>,每个属性值的范围应该事先定义好。</li><li><strong>引用完整性</strong>:维护表与表之间的关系,例如外键约束来保证主表中不存在的外键值不能在从表中出现。</li><li><strong>用户定义完整性</strong>:允许用户根据需要定义或指定需要保证的完整性约束条件。</li><li><strong>业务完整性</strong>:按业务规则设定数据需要满足的一致性或准确性。</li></ol></li><li><p>如何理解数据库的三大范式?请简要说明每一范式的含义。</p><p>me:</p><p>第一范式 去除与主键</p><p>第二范式</p><p>第三范式</p><p>ai:</p><p>第一范式(1NF):</p><p><strong>属性不可再分</strong> 满足1NF的关系Mode中,每个属性值都必须是不可再分的基本值,不允许有重复的属性或多个值在一个属性中。</p><p>第二范式(2NF):</p><p><strong>完全依赖主键</strong> 满足2NF的关系模式中,非主属性必须完全依赖主键,消除1NF基础上产生的部分依赖。</p><p>第三范式(3NF):</p><p><strong>消除传递依赖</strong> 满足3NF的关系模式中,任何非主属性不依赖于其它非主属性,消除2NF基础上产生的传递依赖。</p><p>简单来说:</p><p>1NF 消除属性的重复组合;</p><p>2NF 消除部分依赖;</p><p>3NF 消除传递依赖。</p></li><li><p>数据库索引的作用是什么?哪些字段应该创建索引?</p><p>me;</p><p>在数据量比较大时可以加快对数据的查询 主键 唯一的识别的值</p><p>ai;</p><ol><li><strong>加速查询和检索速度</strong></li></ol><p>索引可以大大减少数据库需要扫描的数据量,使得查询和检索速度能够大幅提升。</p><p>2.<strong>加速表与表之间的连接</strong></p><p>通过在连接字段上进行索引,可以减少连接需要的时间。</p><p>3**.加速排序操作**</p><p>可以通过索引直接提取排序数据,加快排序速度。</p><p>4.加速聚集函数的操作</p><p>聚集函数如sum()、max()、min()等在索引列上进行计算时速度会更快。</p><p>通常以下字段应该创建索引:</p><ol><li>表中<strong>经常需要搜索的</strong>字段。</li><li><strong>经常出现在WHERE子句中的字段</strong>。</li><li>经常需要<strong>排序的字段</strong>。</li><li><strong>表主键</strong>。</li><li>频繁被连接的字段。</li><li>在查询中与其他索引列组合使用的字段。</li></ol></li><li><p>什么是数据库事务?事务的四个特征是什么?</p><p>me:</p><p>对多个数据库的操作，执行的方法， /隔离性 原子性 一致性 持久性</p><p>ai:</p><p>数据库事务(Transaction)是指作为<strong>一个单独执行单元的一系列操作,这些操作要么全部成功执行,要么全部不执行</strong>。</p><p>数据库事务通常具有四个关键特徵,称为 ACID:</p><ol><li>**原子性(Atomicity)😗*事务是一个不可分割的工作单位,事务中的所有操作要么全部执行成功,要么全部失败回滚。</li><li><strong>一致性(Consistency)</strong>:事务执行前后,数据库都保持一致性状态。事务执行不会破坏数据库数据的完整性和业务逻辑约束。</li><li><strong>隔离性(Isolation)</strong>:多个事务并发执行时,一个事务的执行不应影响其他事务的执行。</li><li><strong>持久性(Durability)</strong>:已提交的事务对数据库的修改应该永久保存在数据库中,不会被回滚。</li></ol></li><li><p>什么是数据库的锁机制?有哪几种锁?</p><p>me:</p><p>对数据查询访问的限制操作 / 悲观锁 乐观锁</p><p>ai: 数据库锁机制是为了<strong>保证数据库并发访问的一致性而设计</strong>的,它通过对数据加锁来<strong>实现多用户对数据库的并发访问</strong>控制。</p><p>常见的数据库锁主要有以下两种:</p><ol><li>**共享锁(S锁)😗*允许多个事务对同一数据进行读取操作,防止资源被修改。</li><li><strong>排他锁(X锁)</strong>:只允许一个事务占有数据的排他访问权,防止多个事务同时修改数据。</li></ol><p>除此之外,数据库锁可以分为以下几种:</p><ul><li>行级锁:对关系表中的某一行加锁。</li><li>表级锁:对整张表加锁。</li><li>页级锁:对数据表的某个页面加锁。</li><li>表空间锁:对表空间中的所有对象加锁。</li><li>数据库锁:对整个数据库加锁。</li></ul></li><li><p>什么是数据库的并发控制?常见的并发控制方法有哪些?</p><p>me:</p><p>null</p><p>ai:</p><p>数据库的并发控制是为了保证在<strong>多个事务并发执行</strong>时<strong>不破坏数据库的完整性和一致性而设计的机制</strong>。常见的并发控制方法有以下几种:</p><ol><li>锁机制:通过在数据上加锁来实现并发控制,如共享锁、排它锁等。</li><li>多版本并发控制(MVCC):每次读取都从一个快照读,不加锁。通过在修改时生成新版本的数据行副本来实现。</li><li>时间戳序方法:为每一个事务赋予一个唯一的时间戳,事务只能读取时间戳小于自己的时间戳的数据。</li><li>乐观并发控制:假设冲突较少,允许事务先执行,但在提交时检查是否违反一致性。</li><li>悲观并发控制:假设冲突很多,在操作数据前先加锁,确保操作的一致性。</li><li>基于多粒度的锁机制:采用多种粒度的锁来获得更好的并发性。</li></ol></li><li><p>什么是数据库的故障恢复技术? checkpoint、redo log、undo log之间的关系是?</p><p>me:</p><p>通过对数据库日志，对数据库故障的恢复 /</p><p>ai:</p><p>数据库的故障恢复技术主要包括<strong>备份恢复技术、日志恢复技术</strong>等。</p><p>checkpoint、redo log、undo log三者之间的关系如下:</p><ol><li>checkpoint:<strong>检查点</strong>,数据库会定期将缓冲池中的脏页(修改过的数据页)刷新到磁盘上,生成一个检查点。</li><li>redo log:<strong>重做日志</strong>,记录数据库操作引起的数据修改。用于重做或回滚未提交的事务。</li><li>undo log:<strong>回滚日志</strong>,记录数据修改前的旧值。用于事务回滚时撤销对数据库的修改。</li></ol><p>当数据库发生故障后,利用checkpoint信息将数据页恢复到故障发生时的最后known good状态。然后利用redo log重做故障后新提交的事务对数据的修改。最后再根据undo log进行未提交事务的回滚操作,直到恢复到故障发生前的状态。</p></li><li><p>数据库优化的常见手段有哪些?</p><p>me:</p><p>数据库规范化 索引</p><p>ai:</p><ol><li>**SQL语句优化:**通过参数绑定、去除不必要的查询等方式优化查询语句。</li><li><strong>数据库结构优化</strong>:合理设计表结构,避免冗余,建立索引。</li><li>数据库服务器优化:调整数据库内存、并发数等服务器参数。</li><li><strong>查询计划优化</strong>:选择最优查询路径,如利用<strong>索引查询</strong>。</li><li>数据访问优化:减少客户端与服务器之间交互,使用连接池。</li><li>磁盘I/O优化:SEPARATE表空间,RAID技术。</li><li>**数据库分区:**通过垂直拆分或水平拆分 way 提高可扩展性。</li><li>采用读写<strong>分离机制</strong>:降低数据库访问压力。</li><li>数据库<strong>并行处理</strong>:如并行查询。</li><li>采用数据库缓存:缓存热点数据,减少磁盘I/O。</li></ol></li><li><p>数据库中的视图有什么作用?视图可以更新数据吗?</p><p>me:</p><p>视图狗都不用</p><p>ai:</p><ol><li><strong>简化复杂的SQL查询</strong></li></ol><p>通过在视图上执行查询,可以将复杂的查询封装和隐藏,使用更简单的查询语法。</p><p>​ 2<strong>保护数据</strong></p><p>可以在视图上隐藏表中的部分敏感字段,对用户只开放必要的列。</p><p>​ 3<strong>提高查询性能</strong></p><p>视图可以只查询必要的数据列,并且可以利用索引提升性能。</p><p>​ 4<strong>保持数据的一致性</strong></p><p>可以在视图上定义计算字段,从而在不同的表中实现一致的数据显示。</p><p>​ 5<strong>实现数据独立</strong></p><p>当表结构变更时,只修改视图定义,对访问视图的查询语句无须改动。</p><p><strong>对于可更新的视图</strong>,可以通过视图实现对基表数据的修改、插入和删除操作。但<strong>有些视图由于存在聚合函数等是不可更新的。</strong></p></li><li><p>什么是数据库的范式设计?为什么需要范式设计?</p><p>me:</p><p>对数据库的属性进行规范化设计 / 减少数据库的冗余 提高数据库查询 优化数据库</p><p>ai:</p><p>数据库需要范式设计主要有以下原因:</p><ol><li><strong>减少数据冗余</strong></li></ol><p>范式设计可以识别出不合规范的设计,消除数据冗余,节省存储空间。</p><ol><li>避免插入异常</li></ol><p>消除非主属性对主属性的部分函数依赖可以避免插入异常。</p><ol><li>避免删除异常</li></ol><p>消除非主属性对主属性的传递函数依赖可以避免删除异常。</p><ol><li>避免更新异常</li></ol><p>符合范式的关系模式,非主属性不依赖于其他非主属性,可以避免更新异常。</p><ol><li>提高查询性能</li></ol><p>减少数据冗余可以提高查询和搜索的性能。</p><ol><li><strong>保持数据一致性</strong></li></ol><p>符合范式的设计可以保证数据一致性,避免数据操作引起的数据不一致。</p><ol><li>方便数据库应用设计</li></ol><p>降低数据库复杂度,使数据库结构更清晰简洁,便于开发人员设计和使用。</p></li><li><p>数据库的主键和唯一键有什么区别?</p><p>me:</p><p>主键 必须唯一性唯一标志 可以作为其他表的外键 唯一键 属性唯一</p><p>ai:</p><ol><li>主键是<strong>一行数据的唯一标识,可以唯一定位一行数据</strong>,每张表只能有一个主键。唯一键不是主键,一张表可以有多个唯一键。</li><li>主键<strong>不允许为空值</strong>,唯一键列可以为空值。</li><li>主键直接定义在表中。唯一键可以定义在表中,也可以通过唯一索引实现唯一键约束。</li><li>主键默认会建立<strong>主键索引</strong>,数据库系统会自动为主键创建索引。唯一键可以建立唯一索引,也可以不创建。</li><li>**主键不允许修改,**除非重建表。<strong>唯一键可以修改,但不能重复</strong>。</li><li>每张表<strong>必须定义主键</strong>,以标识唯一一行记录。<strong>唯一键不是必需的</strong>。</li><li><strong>一个表可以有多个唯一键,但最多只能有一个主键。</strong></li></ol></li><li><p>什么是数据库的<strong>参照完整性?<strong>如何通过</strong>外键</strong>约束实现参照完整性?</p><p>me:</p><p>忘了</p><p>ai:</p><p>数据库的参照完整性是指存在<strong>外键关系的表之间的数据一致性</strong>。它通过外键约束来实现。</p><p>外键约束的作用是保证子表数据外键列的值必须来自主表的主键列的值。这样就建立了主表和子表数据之间的链接,保证了主 子 表数据的一致性。</p><p>具体实现参照完整性的方法:</p><ol><li>在子表添加外键列,其数据类型和主表的主键列一致。</li><li>在子表外键列上添加外键约束,约束引用主表的主键列。</li><li>指定外键更新和删除时的操作,如级联更新/删除或设置为无动作。</li><li>可以设置外键值为null,也可以设置为不允许为空。</li></ol></li><li><p>数据库的三大设计范式之间有什么关系?为什么要遵守高级范式的设计?</p><p>me:</p><p>三个范式 互相递进 第三范式在第二范式基础上更加要求 / 遵循高级范式可以减少数据冗余 数据操作异常 数据一致性</p><p>ai:</p><p>数据库的三大范式之间是逐步规范化的关系:</p><ol><li>第一范式(1NF)是关系数据库的基础,表的每一列都是不可分割的基本数据项。</li><li>第二范式(2NF)在1NF的基础上,非码属性必须完全依赖于候选码,消除非主属性对主码的部分函数依赖。</li><li>第三范式(3NF)在2NF基础上,任何非主属性不依赖于其它非主属性,消除传递依赖。</li></ol><p>高级范式都是在第三范式的基础上建立的,如BCNF范式等。</p><p>遵守高级范式设计数据库的主要理由:</p><ol><li>可以避免数据冗余,节省数据存储空间。</li><li>将数据结构分解成合理的形式,有利于数据库维护。</li><li>减少插入、更新、删除异常的发生。</li><li>提高数据查询和访问的效率。</li><li>提高程序对数据库的设计和操作的简单性。</li><li>方便对数据库的扩展和修改。</li><li>提高数据的一致性和完整性。</li></ol></li><li><p>什么是数据库的**冗余设计?**冗余设计的利与弊是什么?</p><p>me：</p><p>不知道</p><p>ai:</p><p>数据库冗余设计指在<strong>数据库设计中存在一定数据冗余或重复的设计</strong>。</p><p>冗余设计的利与弊:</p><p>利:</p><ol><li>提高了数据的完整性和一致性。<strong>系统容错能力增强</strong>。</li><li>提高数据读取效率。多表查询时,冗余数据可以<strong>减少连接操作。</strong></li><li>提高数据写入效率。允许在少数表中进行冗余存储,以<strong>提高写效率。</strong></li><li><strong>简化数据库设计</strong>,可以利用冗余数据减少复杂的查询。</li></ol><p>弊:</p><ol><li>数据冗余<strong>增加了数据维护的难度。</strong></li><li>提高了数据<strong>存储空间的需求</strong>。</li><li>提高了<strong>系统设计和开发的难度</strong>。需考虑数据同步问题。</li><li>增加了<strong>数据库插入和更新的问题</strong>。</li><li>出现<strong>数据不一致</strong>的可能。</li></ol></li><li><p>数据库连接的分类有哪些?各有什么特点?</p><p>me:</p><p>使用数据库引擎 使用数据池链接 / 1， 2，数据池连接减少操作次数</p><p>ai：</p><ol><li><strong>短连接</strong>:每次数据库操作后就关闭连接。</li></ol><ul><li>特点:连接创建和关闭频繁,资源消耗大,性能较差。</li></ul><ol><li><strong>长连接</strong>:重复使用同一个数据库连接,对多次数据库操作优化。</li></ol><ul><li>特点:减少连接创建和关闭次数,性能较好。但如果长时间不关闭,会占用连接资源。</li></ul><p>另外,数据库连接还可以分为:</p><ol><li>**直接连接:**应用程序直接连接数据库。</li></ol><ul><li>特点:简单,无中间层,但不利于管理和拓展。</li></ul><ol><li><strong>连接池连接</strong>:使用连接池存放数据库连接,应用程序从池中获取连接。</li></ol><ul><li>特点:可以重用连接,提高效率。但需要注意池容量控制。</li></ul></li><li><p>什么是数据库事务的ACID特性?缺少某一特性会造成什么问题?</p><p>me:</p><p>隔离性 一致性 原子性 持久性 / 缺少会造成数据不一致 事务失效</p><p>ai:</p><p>原子性(Atomicity):事务是一个不可分割的工作单位,事务中的操作要么都成功,要么都失败。</p><p>一致性(Consistency):事务执行前后,数据库都保持一致性状态。</p><p>隔离性(Isolation):事务并发执行时,一个事务的执行不应影响其他事务。</p><p>持久性(Durability):已提交事务对数据库修改是持久的,即使系统故障也不会丢失。</p><p>如果缺少某一特性:</p><ul><li><strong>缺少原子性:事务执行可能只部分成功,使数据处于不一致状态。</strong></li><li><strong>缺少一致性:事务执行使数据库从一个一致状态变成不一致状态。</strong></li><li><strong>缺少隔离性:事务并发执行相互影响,数据错误。</strong></li><li><strong>缺少持久性:系统故障后,已提交事务的修改可能丢失</strong></li></ul></li><li><p>选择使用何种数据库索引类型的判断标准有哪些?</p><p>me：</p><p>不知道</p><p>ai:</p><ol><li>查询方式 - 根据查询中条件列的判断,选择合适的索引,如唯一索引、普通索引、前缀索引等。</li><li>查询性能 - 根据查询的性能要求,如查询范围的大小,选择聚簇索引或非聚簇索引。</li><li>数据量 - 数据量小可以考虑使用唯一索引;数据量大则应优先考虑普通索引。</li><li>数据变更频率 - 变更频繁的数据字段不太适合创建索引。静态数据字段可优先考虑。</li><li>索引维护成本 - 索引能够带来查询性能提升需要与维护索引的成本作比较。</li><li>索引限制 - 一些数据库对索引的 key 长度、数量都有限制,在设计时需要注意。</li><li>数据关系 - 与查询条件 columnist 相关联的数据字段优先考虑建立索引。</li><li>实际执行查询计划 - 可以比较真实的执行计划来决定创建哪些索引。</li></ol></li><li><p>数据库的性能优化手段中,哪些属于SQL优化,哪些属于硬件优化?</p><p>me;</p><p>索引优化 分页 属于sql //硬件优化</p><p>ai:</p><p>SQL优化主要包括:</p><ol><li><strong>SQL语句优化</strong> - 使用EXPLAIN检查执行计划,优化查询方式,避免全表扫描等。</li><li><strong>索引优化</strong> - 加入适当的索引,减少查询需要扫描的数据。</li><li><strong>数据库结构优化</strong> - 规范设计表和库,避免冗余索引和查询。</li><li>参数优化 - 配置合理的缓存,连接数等数据库参数。</li></ol><p>硬件优化主要包括:</p><ol><li><strong>升级CP</strong>U、内存 - 提高数据库服务器的处理能力。</li><li>使用SSD - 减少I/O等待时间。</li><li><strong>分库分表</strong> - 减少单库单表数据量,提高查询效率。</li><li>采用更高效的磁盘IO方式 - 如RAID 10。</li><li>选择合适的<strong>存储引擎</strong> - 如InnoDB, MyISAM等。</li><li>客户端连接优化 - 连接池,本地缓存等。</li></ol></li><li><p>数据库三范式有什么作用?不符合三范式会带来哪些问题?</p><p>me:</p><p>规范化数据库结构 减少数据冗余</p><p>不符合 可能造成数据冗余 数据异常 数据库操作异常</p><p>ai:</p><p>数据库三范式的主要作用是:</p><ol><li>避免数据冗余和异常 - 三范式要求数据表中的每个列都和主键直接相关,从而避免重复和多余的数据。</li><li>提高查询效率 - 三范式将数据划分为多张功能独立的表,而非塞进一个大表,提高查询速度。</li><li>降低更新异常 - 更新时只需要更新一处,不会出现数据不一致的情况。</li><li>提高系统扩展性 - 三范式使表的结构合理独立,易于扩展。</li></ol><p>不符合三范式主要会带来以下问题:</p><ol><li>数据冗余和数据不一致 - 同样的数据出现在多个表中,数据重复,容易出现不一致。</li><li>插入异常 - 在一个表中插入数据,需要同步插入其他表,否则产生数据不一致。</li><li>删除异常 - 删除操作可能会删掉其他表还在使用的数据。</li><li>更新异常 - 同一数据不同表的更新可能不一致。</li><li>系统维护困难 - 字段增删改都会影响多张表,维护复杂。</li></ol></li><li><p>数据库事务的四个特征是:原子性、一致性、隔离性和持久性。请解释这四个特征的意义。</p><p>原子性(Atomicity):事务是一个不可分割的工作单位,事务中的操作要么都成功,要么都失败。</p><p>一致性(Consistency):事务执行前后,数据库都保持一致性状态。</p><p>隔离性(Isolation):事务并发执行时,一个事务的执行不应影响其他事务。</p><p>持久性(Durability):已提交事务对数据库修改是持久的,即使系统故障也不会丢失。</p></li><li><p>数据库的并发控制有哪几种常见方法?各自的优缺点是什么?</p><p>me:</p><p>加锁{表锁 行锁 } 事务 / 加锁可以并发数据安全 效率慢 不加锁可能不安全但效率快</p><p>ai:</p><ol><li><strong>锁机制</strong></li></ol><ul><li>优点:并发冲突控制能力强,保证数据一致性。</li><li>缺点:锁的获取和释放有较大开销,会降低并发性能。锁模式不当还可能导致死锁。</li></ul><ol><li><strong>多版本并发控制(MVCC)</strong></li></ol><ul><li>优点:不会阻塞读操作,提高了读性能和并发性。</li><li>缺点:需要额外空间存储多版本数据,写操作开销也较大。</li></ul><ol><li><strong>时间戳 ordering</strong></li></ol><ul><li>优点:无需锁及多版本,并发控制简单。</li><li>缺点:只适用于读多写少的场景,可扩展性较差。</li></ul><ol><li><strong>乐观锁</strong></li></ol><ul><li>优点:不阻塞读操作,无死锁问题。</li><li>缺点:写冲突时会重试和回滚,成功率不高。</li></ul><ol><li><strong>分布式事务</strong></li></ol><ul><li>优点:支持分布式场景的并发控制。</li><li>缺点:实现复杂,资源开销大,不支持高并发。</li></ul></li><li><p>数据库的锁有共享锁和排它锁,这两种锁的区别是什么?各自使用场景?</p><p>me:</p><p>共享锁指进程运行所需要资源可以被其他进程所共享使用</p><p>排他锁指进程所需资源仅可自己使用其他进程无法请求已使用的资源</p><p>ai:</p><ol><li><strong>兼容性不同</strong>： <ul><li>S锁与S锁兼容，可以多个事务同时加S锁。</li><li>X锁与X锁和S锁都不兼容，加X锁时其他事务不能再加任何锁。</li></ul></li><li><strong>加锁读写能力不同</strong>： <ul><li>S锁只允许读取数据，不允许修改。</li><li>X锁既可以读取也可以修改数据。</li></ul></li><li><strong>加锁粒度不同</strong>： <ul><li>S锁通常是行级锁，只锁定查找到的行。</li><li>X锁一般是表级锁，会锁定整张表。</li></ul></li></ol><p>根据这些特性，可以将它们用于不同的事务场景：</p><ul><li><p><strong>S锁的使用场景</strong>： S锁适用于只读事务，因为它们可以并发地加锁，从而提高并发度，允许多个事务同时读取相同的数据。这对于读取频繁、但修改较少的场景非常有用，例如报表查询等。</p></li><li><p><strong>X锁的使用场景</strong>： X锁适用于写事务，因为它提供了互斥访问，确保在一个事务修改数据时，其他事务无法访问或修改相同的数据。这对于需要保证数据一致性和避免冲突的写操作非常重要，例如更新、删除等操作。</p></li><li><p><strong>读写混合事务的处理</strong>： 在某些情况下，可能需要同时进行读取和写入操作。在这种情况下，可以先加X锁，以确保数据的独占访问权。然后，在需要读取的行上加S锁，以便在读取过程中保持一致性。最后，在完成操作后，释放所有锁。</p></li><li><p><strong>共享锁（Shared Lock）</strong>：</p><ul><li>共享锁允许多个事务同时获取同一个数据项的锁，以进行读操作。多个事务可以同时持有共享锁，但不能与排他锁同时存在。</li><li>共享锁之间是兼容的，这意味着一个事务可以在另一个事务持有共享锁的同时获取相同数据项的共享锁。</li><li>共享锁用于读取操作，可以并发地读取数据，从而提高并发性能。</li><li>适用场景：当多个事务需要读取相同的数据项时，可以使用共享锁，以避免冲突并允许并发读取操作。</li></ul><p><strong>排他锁（Exclusive Lock）</strong>：</p><ul><li>排他锁在事务需要进行写操作时获取，确保数据在写操作期间不会被其他事务读取或写入。</li><li>排他锁与其他任何锁（包括共享锁和排他锁）都不兼容，这意味着当一个事务持有排他锁时，其他事务不能获取相同数据项的任何锁。</li><li>排他锁用于写操作，保证数据的独占性，避免并发写入冲突，从而维护数据的一致性。</li><li>适用场景：当事务需要对数据进行写操作（修改、删除等）时，应该获取排他锁，以确保数据的一致性和完整性。</li></ul><p>在实际应用中，根据事务的需求和操作类型，可以选择适当的锁策略。有时候，也会出现读写混合的场景，这时可能需要在读操作时获取共享锁，在写操作时获取排他锁，以实现合适的并发控制和数据保护。</p></li></ul></li><li><p>为什么需要数据库的事务处理?事务能够保证数据库的一致性吗?</p><p>me:</p><p>对数据库需要并行操作 /事务可以保持一致性</p><p>ai:</p><ol><li>将多条相关SQL作为一个不可分割的工作单元执行,以保证数据的完整性。</li><li>提供将数据库从一致性状态变换到另一致性状态的机制。</li><li>在并发访问时,保证事务之间的隔离性。</li><li>在系统故障后,恢复数据库状态以保持数据一致性。</li></ol><p>但是,事务<strong>不能完全保证数据库的一致性</strong>。原因如下:</p><ol><li>事务只能保证数据库从一个一致状态转变到另一个一致状态,不能防止一开始数据库状态就不一致。</li><li>长时间事务会降低并发性,也无法完全隔离事务之间的影响。</li><li>硬件故障也可能导致事务处理失败,无法恢复数据库一致状态。</li><li>错误或不合理的事务处理逻辑同样可能破坏数据一致性。</li></ol></li><li><p>数据库的冗余对性能有什么影响?如何在冗余与性能间做平衡?</p><p>me:</p><p>数据库冗余导致数据异常 性能读写降低，数据库操作异常数据不安全不一致 / 合理规划数据库设计 结合实际使用不同的范式</p><p>ai:</p><ol><li><strong>写入性能</strong> - 冗余会导致每个写操作需要更新多个副本,降低写入速度。</li><li><strong>读取性能</strong> - 适当冗余可以提高读取速度,因为读取可以分散在多个副本上。但冗余过高会导致缓存浪费和磁盘空间浪费,降低效率。</li><li><strong>内存占用</strong> - 数据冗余会增加内存占用。</li><li><strong>数据不一致</strong> - 多个副本存在数据不一致的可能,需要额外的完整性检查。</li></ol><p>平衡冗余和性能可以从以下几个方面进行:</p><ol><li>只对**最常读取和最重要的数据建立冗余,**不要对全部数据均创建冗余。</li><li>控制冗余副本的数量,一般2-3个副本就足够提供读取性能优势。<strong>过多冗余反而降低效率</strong>。</li><li>采用异步或延迟的冗余策略,减小冗余对写入的影响。</li><li><strong>对冗余数据进行分区</strong>,避免单点热点问题。</li><li><strong>利用缓存来提高读取速度</strong>,而不是单纯依赖冗余。</li><li>对冗余数据进行压缩,减少存储和内存开销。</li><li>加强系统间数据一致性检测与同步机制,降低冗余带来的不一致风险。</li><li>配合业务特点采用适当的冗余策略,如主从式、份额式等。</li></ol></li><li><p>数据库优化中,对查询语句优化和对数据库表优化有何不同?应优先考虑哪些方面?</p><p>me:</p><p>查询语句优化 --&gt; 在查询过程中更快或准确查询 通过索引 条件 连表等操作</p><p>数据库表优化 --&gt; 在数据表建立 对数据进行规范化 分表 分页</p><p>优先考虑语句优化 比较直接 对数据库表优化 可能比较麻烦</p><p>ai:</p><ol><li>查询语句优化</li></ol><ul><li>重点优化SQL查询逻辑,使查询更高效</li><li>如添加索引、SQL优化、查询重写等</li><li>目的是消除不必要的查询,减少扫描行数</li></ul><ol><li>数据库表优化</li></ol><ul><li><p>重点优化表结构与设计,减少存储冗余</p></li><li><p>如正规化、拆分表、垂直拆分等</p></li><li><p>目的是减少储存空间,提高CRUD效率</p><p>优先考虑的方面:</p><ul><li>对重要且频繁的查询语句进行优化</li><li>对大表、重要业务表的结构设计优化</li><li>先从查询语句入手,对症下药</li><li>查询无法优化时再考虑表结构调整</li></ul></li></ul></li><li><p>选择使用<strong>物理外键</strong>与<strong>逻辑外键</strong>,应该考量哪些因素?两者的优缺点?</p><p>me:</p><p>null</p><p>ai:</p><ol><li>数据完整性需求</li></ol><ul><li>物理外键通过约束可以保证引用完整性,删除/更新主表数据时限制外键变化。</li><li>逻辑外键不能自动保证引用完整性,需要通过应用程序来维护。</li></ul><ol><li>查询性能需求</li></ol><ul><li>物理外键会对主表创建索引,可提高联表查询速度。</li><li>逻辑外键没有索引,联表查询需要全表扫描,较慢。</li></ul><ol><li>数据变更需求</li></ol><ul><li>物理外键的约束会限制主表数据的删除与更新。</li><li>逻辑外键没有这个限制,主表变更更灵活。</li></ul><ol><li>系统性能限制</li></ol><ul><li>物理外键的约束会增加插入/更新时的开销。</li><li>逻辑外键的开销较小。</li></ul><p><strong>物理外键的优点是保证数据一致性,提高查询速度,但会限制主表变更。</strong></p><p><strong>逻辑外键的优点是变更灵活性高,系统开销较小,但无法自动保证引用完整性。</strong></p></li><li><p>数据库索引在提高查询速度的同时,会带来哪些问题?该如何权衡?</p><p>me:</p><p>额外内存开销</p><p>ai:</p><ol><li>写入开销增加</li></ol><ul><li>索引会增加数据库写入数据时的开销。所有索引字段的值都需要同步更新。</li></ul><ol><li>额外存储空间占用</li></ol><ul><li>索引需要额外的存储空间来保存索引结构和索引值。</li></ul><ol><li>索引维护成本</li></ol><ul><li>修改表结构时需要重新建立索引,也需要定期维护索引。</li></ul><ol><li>可能导致查询优化器依赖索引</li></ol><ul><li>存在索引并不一定被查询优化器使用,可能导致非预期的查询计划。</li></ul><ol><li><strong>降低部分写操作的性能</strong></li></ol><ul><li>索引可以加速查询,但会降低部分INSERT,UPDATE和DELETE的性能。</li></ul><p>因此,建立索引需要权衡其带来的收益和成本。一般的考虑原则是:</p><ul><li>仅对常用字段建立索引,不要对很少使用或不作为查询条件的字段建立索引。</li><li>删除不再使用或很少使用的索引,不定期评估索引的使用效果。</li><li>对高并发的读写操作要谨慎建立索引。</li><li>对TEXT、BLOB等大字段尽量不要创建索引。</li><li>在建立复合索引时考虑列的顺序对性能的影响。</li><li>对于大表要建立部分索引而不是全表索引。</li></ul></li><li><p>数据库视图的作用有哪些?使用视图可能带来的问题是什么?应如何应对?</p><p>me:</p><p>视图狗都不用</p><p>ai:</p></li><li><p>数据库范式设计的目标是什么?为什么需要遵循范式化设计?</p><p>me:</p><p>数据库性能 维护 变好</p><p>ai；</p><ol><li>避免数据冗余和异常,提高数据的完整性和一致性。</li><li>降低数据维护和存储成本。</li><li>提高查询性能。</li><li>确保数据库结构灵活扩展,便于应用程序开发。</li></ol><p>遵循范式化设计主要有以下原因:</p><ol><li>减少数据冗余,避免同样的数据出现在多个表中,占用大量存储空间。</li><li>避免插入、更新异常,如无法正常删除的数据。这些异常会导致数据库结构混乱。</li><li>降低维护成本,不需要在多个表中同步修改冗余数据。</li><li>提高查询效率,不需要在多表中查询同样的数据。</li><li>提高可扩展性,系统变更不会影响数据库整体结构。</li><li>有利于未来优化,如拆分表等。</li><li>便于程序开发,不同模块访问不同表,业务清晰。</li></ol></li><li><p>解释SQL语句的优化原则,有哪些需要注意的点?</p><p>ai:</p><ol><li>尽量减少查询的数据行数,使用WHERE条件进行过滤。</li><li>尽量减少JOIN表的数量,避免不必要的连接查询。</li><li>对经常查询的字段建立索引,提高查询效率。</li><li>避免在WHERE子句中使用NOT IN和&lt;&gt;操作符,它们难以优化。</li><li>使用白名单限制查询范围,避免全表扫描。</li><li>对文本字段应加引号限制前缀wildcard查询。</li><li>对统计类查询使用GROUP BY而不是DISTINCT去重。</li><li>避免数据类型的隐式转换,这会降低查询效率。</li><li>对多表JOIN查询,保证ON和WHERE条件列有索引。</li><li>编写存储过程提高重复查询的效率。</li><li>对批量插入数据操作使用事务提高效率。</li><li>对动态SQL参数使用绑定变量提高稳定性。</li><li>避免使用游标或联合查询,它们执行效率较低。</li><li>对复杂查询分步进行,逐步优化。</li></ol></li><li><p>数据库连接池的作用是什么?使用连接池可能带来哪些问题?</p><p>me:</p><p>对数据库操作时，避免多次链接数据库，避免每次数据操作需要重新链接数据库</p><p>AI:</p><p>数据库连接池的主要作用是提高数据库连接的使用效率。</p><ol><li>**重用存在的连接,**避免频繁创建和关闭连接的开销。</li><li>管理连接对象数目,避免过多连接耗尽资源。</li><li>实现连接的线程安全共享。</li><li><strong>提供连接的待命池,加快获取连接的速度。</strong></li></ol><p>使用连接池可能带来以下问题:</p><ol><li><strong>配置不当可能造成连接池溢出、泄漏</strong>等。</li><li><strong>多线程环境下需要实现连接管理的同步机制</strong>。</li><li>连接长时间闲置导致连接超时。</li><li><strong>大量连接创建可能带来内存压力。</strong></li><li><strong>连接没有按需释放,浪费资源。</strong></li><li>连接长时间占用,出现瓶颈。</li></ol></li><li><p>选择使用联合索引与组合索引的考虑因素有哪些?各自的优缺点?</p></li><li><p>如何判断一个数据库是否需要进行分库分表?分库分表的方案有哪些?</p></li><li><p>讲解数据库故障转移与负载均衡的工作原理,两者有何不同?</p></li><li><p>数据库主备服务器架构的工作原理是什么?主备服务器之间如何同步数据?</p></li><li><p>讲解行锁、表锁、意向锁的使用场景和实现机制。</p></li><li><p>数据库数据如何设计维度建模与事实建模?二者有何优势?</p></li><li><p>什么是数据库的无损调整?如何实现数据库结构的无损调整?</p></li><li><p>数据库事务隔离级别有哪些?各个隔离级别的区别是什么?</p></li><li><p>讲解InnoDB和MyISAM存储引擎的区别与应用场景。</p></li><li><p>数据库空间数据型如何设计合理的空间索引提高查询效率?</p></li><li><p>什么是数据库的慢查询?如何定位和优化慢查询?</p></li><li><p>什么是数据库死锁?如何避免数据库死锁的发生?</p></li><li><p>讲解关系型数据库与NoSQL数据库的区别,两者各自的应用场景。</p></li><li><p>讲解SQL注入攻击的原理,如何通过参数化查询防止SQL注入。</p></li><li><p>数据库服务器内存不足时应该如何调优?有哪些可优化方向?</p></li><li><p>设计一个支持百万级流量的数据库架构,需要考虑哪些方面?</p></li><li><p>关系型数据库与文档型数据库的区别在哪里?各自的典型产品和应用场景?</p></li><li><p>数据库的存储引擎有哪些?各有什么特点?</p></li><li><p>数据库索引的底层实现原理是什么?B+树与B树的区别在哪里?</p></li><li><p>讲解数据库事务的隔离机制,包括脏读、不可重复读、幻读的概念。</p></li><li><p>什么是数据库范式?解释第一范式、第二范式、第三范式的定义。</p></li><li><p>数据库优化中,业务层优化和SQL语句优化的focal区别是什么?</p></li><li><p>选择增量备份与完全备份应考虑哪些因素?两者分别适用于哪些场景?</p></li><li><p>解释数据库连接的集中式与分布式部署方式,讲述两种方案的利弊。</p></li><li><p>数据库查询优化中,应该优先考虑查询缓存还是索引?理由是什么?</p></li><li><p>讲解数据库主键和唯一索引的区别,各自的使用场景。</p></li><li><p>为什么需要数据库事务?事务如何保证数据库的ACID特性?</p></li><li><p>选择MySQL存储引擎时,应考虑哪些因素?各存储引擎的应用场景?</p></li><li><p>解析SQL语句的优化原则,有哪些需要注意的点?</p></li><li><p>设计支持大量并发的数据库架构需要考虑哪些方面?</p></li><li><p>什么是数据库连接池?使用连接池带来哪些好处?</p></li><li><p>讲解三种数据库连接方案:长连接、短连接、连接池。</p></li><li><p>数据库的水平拆分与垂直拆分有何区别?各自的使用场景是?</p></li><li><p>设计一个支持百万级流量的数据库架构,需要考虑哪些方面?</p></li><li><p>选择使用物理外键与逻辑外键,应该考量哪些因素?两者的优缺点?</p></li><li><p>如何判断一个数据库是否需要进行分库分表?分库分表的方案有哪些?</p></li><li><p>数据库事务有哪几种隔离级别?各自的优缺点是什么?</p></li><li><p>讲解数据库三大范式的意义,以及如何实现范式设计。</p></li><li><p>什么是数据库的FILESTREAM技术?有什么优点和使用场景?</p></li><li><p>解析主从复制和主主复制的工作原理、优缺点和适用场景。</p></li><li><p>数据库优化中,SQL语句优化和索引优化的重要程度如何区分?</p></li><li><p>讲解行锁和表锁的使用场景、加锁机制、优缺点。</p></li><li><p>如何查看和分析MySQL的慢查询日志?</p></li><li><p>什么是MVCC机制?InnoDB如何通过MVCC实现事务隔离?</p></li><li><p>选择使用联合索引与组合索引的考虑因素有哪些?各自的优缺点?</p></li><li><p>什么是数据库范式?为什么要进行范式化设计?</p></li><li><p>讲解NoSQL数据库的特点,列举几种常见的NoSQL数据库。</p></li><li><p>解析数据库故障转移和负载均衡的工作机制、区别和应用场景。</p></li><li><p>MongoDB和Redis的区别在哪里?各自的应用场景有哪些?</p></li><li><p>数据库连接池的工作原理是什么?使用连接池的优缺点?</p></li><li><p>如何 diagnoase 和优化一个慢SQL查询?需要注意哪些方面?</p></li><li><p>设计一个支持百万用户同时在线的数据库架构,需要考虑哪些方面?</p></li><li><p>解析SQL和NoSQL数据库的区别,以及各自的应用场景。</p></li><li><p>讲解InnoDB和MyISAM这两种存储引擎的特点和区别。</p></li><li><p>什么是数据库范式?为什么需要进行范式化设计?</p></li><li><p>解析行锁、表锁、意向锁的加锁机制、使用场景和优缺点。</p></li><li><p>讲解事务的ACID特性,以及事务的隔离级别和实现。</p></li><li><p>解析B+树和B树的区别,以及为什么索引通常选择B+树。</p></li><li><p>讲解三种常见的数据库拆分方案:垂直拆分、水平拆分、分库分表。</p></li><li><p>数据仓库与数据库有哪些区别?数据仓库的优点是什么?</p></li><li><p>如何设计一个支持地理位置查询的数据库架构方案?</p></li><li><p>什么是数据库的无损扩容?应该如何实现?</p></li><li><p>解析大型数据库系统的容灾技术,需要考虑哪些方面?</p></li><li><p>如何防止和解决数据库中的死锁问题?</p></li><li><p>什么是数据库的主从复制?如何实现 MySQL 的多源复制?</p></li><li><p>解析OLTP系统和OLAP系统的特点和区别。</p></li><li><p>如何为数据库服务器优化内存配置?需要关注哪些参数?</p></li></ol></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/docs/other/mysql/1.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><nav class="page-nav"><!----><a href="/other/mysql/2.html" class="nav-link next" aria-label="数据库"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">数据库<span class="font-icon icon iconfont icon-page" style=""></span></div></a></nav><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">这是测试显示的页脚</div><div class="copyright">无版权</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-65819ca9.js" defer></script>
  </body>
</html>
