import{usePageFrontmatter as g,usePageLang as h,withBase as l}from"@vuepress/client";import{Waline as w}from"@waline/client/dist/component.mjs";import{pageviewCount as d}from"@waline/client/dist/pageview.mjs";import{pageviewCount as _}from"@waline/client/dist/pageview.mjs";import{defineComponent as C,computed as r,onMounted as L,watch as E,h as u}from"vue";import{useRoute as N}from"vue-router";import{useLocaleConfig as W}from"vuepress-shared/client";import"@waline/client/dist/waline.css";import"../styles/waline.scss";const e=COMMENT_OPTIONS,k=WALINE_LOCALES,i=Boolean(e.serverURL);WALINE_META&&import("@waline/client/dist/waline-meta.css");var A=C({name:"WalineComment",setup(){const t=N(),m=g(),p=h(),s=W(k);let a;const c=r(()=>{if(!i)return!1;const n=e.comment!==!1,o=m.value.comment;return Boolean(o)||n!==!1&&o!==!1}),v=r(()=>{if(!i)return!1;const n=e.pageview!==!1,o=m.value.pageview;return Boolean(o)||n!==!1&&o!==!1}),f=r(()=>({lang:p.value==="zh-CN"?"zh-CN":"en",locale:s.value,emoji:["//unpkg.com/@waline/emojis@1.1.0/weibo","//unpkg.com/@waline/emojis@1.1.0/bilibili"],dark:"html.dark",...e,path:l(t.path)}));return L(()=>{E(()=>t.path,()=>{a==null||a(),v.value&&setTimeout(()=>{a=d({serverURL:e.serverURL,path:l(t.path)})},e.delay||800)},{immediate:!0})}),()=>c.value?u("div",{class:"waline-wrapper",id:"comment"},i?u(w,f.value):[]):null}});export{A as default,_ as pageviewCount};
//# sourceMappingURL=Waline.js.map
